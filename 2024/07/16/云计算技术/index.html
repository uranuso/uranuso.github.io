<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>云计算技术-课程复习 | Rayhan Li's Blog</title><meta name="author" content="Rayhan Li"><meta name="copyright" content="Rayhan Li"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、云计算概述 云计算定义：云计算是分布式计算的一种特殊形式，它引入效用模型来远程供给可扩展和可测量的资源。重点 云计算特点：利用云计算技术，可以管理、调度、整合、优化分布在网络上的各种资源，并以统一界面为用户提供各类计算服务。重点  按需服务：云为用户提供想要的服务，用户可以按照自己的需求来获取计算资源，就像现实生活中使用自来水、煤气、电力资源一样。 通用性：云计算并不是一种特定的计算方式，可以">
<meta property="og:type" content="article">
<meta property="og:title" content="云计算技术-课程复习">
<meta property="og:url" content="https://uranuso.github.io/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/index.html">
<meta property="og:site_name" content="Rayhan Li&#39;s Blog">
<meta property="og:description" content="一、云计算概述 云计算定义：云计算是分布式计算的一种特殊形式，它引入效用模型来远程供给可扩展和可测量的资源。重点 云计算特点：利用云计算技术，可以管理、调度、整合、优化分布在网络上的各种资源，并以统一界面为用户提供各类计算服务。重点  按需服务：云为用户提供想要的服务，用户可以按照自己的需求来获取计算资源，就像现实生活中使用自来水、煤气、电力资源一样。 通用性：云计算并不是一种特定的计算方式，可以">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://uranuso.github.io/web_image/favi.png">
<meta property="article:published_time" content="2024-07-16T06:51:41.000Z">
<meta property="article:modified_time" content="2024-07-16T07:32:14.641Z">
<meta property="article:author" content="Rayhan Li">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://uranuso.github.io/web_image/favi.png"><link rel="shortcut icon" href="/web_image/favi.png"><link rel="canonical" href="https://uranuso.github.io/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '云计算技术-课程复习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-16 15:32:14'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/web_image/favi.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/web_image/background.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Rayhan Li's Blog"><span class="site-name">Rayhan Li's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">云计算技术-课程复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-16T06:51:41.000Z" title="发表于 2024-07-16 14:51:41">2024-07-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-16T07:32:14.641Z" title="更新于 2024-07-16 15:32:14">2024-07-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="云计算技术-课程复习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一-云计算概述">一、云计算概述</h1>
<p>云计算<strong>定义</strong>：云计算是分布式计算的一种特殊形式，它引入<strong>效用模型</strong>来远程供给<strong>可扩展</strong>和<strong>可测量</strong>的资源。<code>重点</code><br>
云计算<strong>特点</strong>：利用云计算技术，可以<strong>管理、调度、整合、优化</strong>分布在网络上的各种<strong>资源</strong>，并以<strong>统一界面</strong>为用户提供各类<strong>计算服务</strong>。<code>重点</code></p>
<ul>
<li><strong>按需服务</strong>：云为用户提供想要的服务，用户可以按照自己的需求来获取计算资源，就像现实生活中使用自来水、煤气、电力资源一样。</li>
<li><strong>通用性</strong>：云计算并不是一种特定的计算方式，可以在云端支持下衍生出千变万化的应用，且适用范围广。</li>
<li><strong>超大规模计算能力</strong>：现在各大云计算提供商为用户提供了非常多且强大的云服务器，这些云服务器赋予用户前所未有的计算能力。</li>
<li><strong>实时在线</strong>：云支持在任何位置、使用各种终端来获取实时服务，请求的资源来源于云而不是固定的有形实体。</li>
<li><strong>高可靠性</strong>：绝大部分云计算提供商采用了多副本容错、计算节点同构可互换等措施来保障服务可靠性，使用户计算、数据更加可靠。</li>
<li>虚拟化：虚拟化云计算支持用户在任意位置、使用各种终端获取应用服务。</li>
<li>低成本：由于云的特殊容错措施可以采用极其廉价的节点来构成云，云的自动化集中式管理使大量企业无需负担日益高昂的数据中心管理成本，云的通用性使资源的利用率较之传统系统大幅提升，因此用户可以充分享受云的低成本优势。</li>
</ul>
<p>云计算的<strong>商业驱动力</strong>：</p>
<ol>
<li>
<p><strong>容量规划</strong>：指确定和满足一个组织未来对IT资源、产品和服务需求的过程。<code>重点</code></p>
<ul>
<li>容量(capacity)：指在一段给定时间内，一个IT资源能够提供的最大工作量。</li>
<li>过度配置：IT资源容量远高于需求，导致系统效率低下。</li>
<li>配置不足：IT资源容量低于需求，导致无法满足用户需求。</li>
<li>重点：将IT资源容量与其需求之间的差异最小化，以获得预期的效率和性能。</li>
</ul>
<p><strong>容量规划的类型</strong>：<code>重点</code></p>
<ul>
<li><strong>领先策略</strong>(Lead Strategy)：根据预期增加IT资源的容量。</li>
<li><strong>滞后策略</strong>(Lag Strategy)：当IT资源达到其最大容量时增加资源容量。</li>
<li><strong>匹配策略</strong>(Match Strategy)：当需求增加时，小幅增加IT资源容量。</li>
</ul>
<p>对“使用负载”变化的估计，导致容量规划颇具挑战性：</p>
<ul>
<li>若按峰值负载配置IT资源，会出现不合理的资金投入。</li>
<li>有限的资金投入，会导致因使用限度降低而出现交易损失和使用受限。</li>
</ul>
</li>
<li>
<p><strong>降低成本</strong></p>
<ul>
<li><strong>IT成本与业务性能之间的平衡</strong>很难保持。</li>
<li><strong>IT环境的扩展总是与对其最大使用需求的评估相对应</strong>，这可以让不断增加的投资自动支持新的、扩展的业务。</li>
<li><strong>大部分所需资金都注入到基础设施的扩建中</strong>，因为给定的<strong>自动化解决方案</strong>的使用潜力，总是受限于底层基础设施的处理能力。</li>
</ul>
<p><strong>成本的类型</strong>：<code>重点</code></p>
<ul>
<li>获得新基础设施的成本（前期成本）</li>
<li>保有其所有权的成本（保有成本）（保有成本可能超过前期成本）<br>
与基础设施相关的运营开销在IT预算中占相当大一部分，往往超过了前期投资成本。</li>
</ul>
<p><strong>与基础设施相关的运营成本</strong>：</p>
<ul>
<li>为保证环境正常运行所需的<strong>技术人员</strong>。</li>
<li>引入额外测试和部署周期的<strong>更新和补丁</strong>。</li>
<li>电源和制冷所需的<strong>水电费</strong>和资金支出。</li>
<li>维护和加强基础设施资源保护的<strong>安全和访问控制措施</strong>。</li>
<li>为跟踪许可证和支持部署安排所需要的<strong>行政和财务人员</strong>。</li>
</ul>
</li>
<li>
<p><strong>组织灵活性</strong>：是组织对变化响应程度的衡量</p>
<ul>
<li>IT企业常常需要应对<strong>行业变化</strong>，通常采用的措施是在原来预期或者计划的IT资源规模上进行扩展。</li>
<li><strong>变化的业务需求</strong>和<strong>优先级</strong>也会要求IT资源具备更高的可用性和可靠性。</li>
</ul>
</li>
</ol>
<p>云计算的技术创新：<code>了解</code></p>
<ul>
<li>集群化</li>
<li>网格计算</li>
<li>虚拟化</li>
</ul>
<p>云计算的概念：<code>了解</code></p>
<ul>
<li>用户视角：云计算是由第三方通过互联网提供的计算服务，用户只需关心云所提供的服务。
<ul>
<li>云计算平台提供用户亟需的<strong>硬件服务、软件服务、数据资源服务</strong>，而且还能向用户提供<strong>可配置的平台服务</strong>。</li>
<li>用户按需向平台提交自己的<strong>硬件配置、软件安装、数据访问</strong>及<strong>其他计算需求</strong>，<strong>支付</strong>一定的<strong>费用</strong>后即可使用。</li>
</ul>
</li>
<li>云计算提供商视角：解决三个实质问题
<ul>
<li>大规模问题：（1）云计算由数据中心支持，其聚集大量计算资源；（2）云计算也能够支撑大规模的、互联网级别的数据和应用。</li>
<li>低成本问题：给客户带来成本上的优势。</li>
<li>服务运营问题：通过无差别的存储计算能力提供公共基础服务，服务运营的本质是按量付费、弹性扩展，并解决多租户环境的安全问题。</li>
</ul>
</li>
<li>平台技术角度：云计算聚集了多种技术。
<ul>
<li>从计算角度：云计算是由一组内部互联的物理服务器组成的并行和分布式计算系统，该系统能够根据服务提供商和客户之间协商好的服务等级协议动态提供计算资源。</li>
<li>从服务角度：云计算通过互联网提供弹性的硬件、软件和数据服务，它以社会化服务的形式呈现。基础设施即服务/平台即服务(IaaS/PaaS)提供商对客户提供数据中心的硬件、平台和软件服务，软件即服务(SaaS)提供商通过互联网以服务的形式给终端用户交付应用软件。</li>
<li>从存储角度：云计算将信息永久存储在云上的服务器中，客户端只是使用时缓存。</li>
<li>从配置角度：云是以付费使用的形式向用户提供各种服务的分布式计算系统，其本质是一个对虚拟化的计算和存储资源池进行动态部署、分配、实时监控，从而向用户提供满足要求的计算服务、数据存储服务、平台服务的系统。</li>
</ul>
</li>
</ul>
<p>云计算基本术语：<code>了解</code></p>
<ul>
<li>IT资源（IT Resource）：指一个与IT相关的物理或虚拟的事物。
<ul>
<li>可以是基于软件的，比如虚拟服务器或定制软件程序。</li>
<li>可以是基于硬件的，比如物理服务器或网络设备。</li>
</ul>
</li>
<li>企业内部的（on-premise）：指不基于云的可控的IT环境
<ul>
<li>一个内部的IT资源可以访问一个基于云的IT资源，并与之交互。</li>
<li>一个内部的IT资源可以被迁移到云中，从而成为一个基于云的IT资源。</li>
<li>IT资源既可以冗余部署在内部环境中，也可以在云环境中。</li>
</ul>
</li>
<li>云用户：使用基于云的IT资源的一方。</li>
<li>云提供者：提供基于云的IT资源的一方。</li>
<li><strong>可扩展性</strong>：指IT资源可以处理增加或减少的使用需求的能力。<code>重点</code>
<ul>
<li>水平扩展(horizontal scaling)：指分配和释放IT资源，其中分配资源称为向外扩展(scaling out)，释放资源称为向内扩展(scaling in)。</li>
<li>垂直扩展(vertical scaling)：指现有IT资源被具有更大或更小容量的资源代替，分别称为向上(scaling up)扩展和向下(scaling down)扩展。</li>
</ul>
</li>
<li>云服务(cloud service)：指任何可以通过云远程访问的IT资源
<ul>
<li>并非云中所有IT资源都可以被远程访问，比如云中的数据库或物理服务器只能被本云的其它IT资源访问。</li>
<li>公开发布的API可以专门部署为允许远程客户访问。</li>
</ul>
</li>
<li>云服务用户(cloud service consumer)：是一个临时的运行时角色，由访问云服务的软件程序承担。</li>
</ul>
<p>目标和收益：</p>
<ul>
<li>降低的投资与成比例的开销：云环境由相当广泛的基础设施组成，提供了“按使用付费”模式租赁的IT资源池，即IT资源仅根据实际使用情况付费。与相同的企业内部环境相比，云具备减少初期投资，以及与可测使用情况成正比的运营成本的能力。</li>
<li>提高的可扩展性：扩展IT资源是云的固有能力，这能让使用云的企业适应无法预测的使用变化，不会因为受限于预设的阈值而拒绝用户请求。相反，按需减少资源扩展也是云的一个功能，它直接与成比例的成本收益相关。</li>
<li>提高的可用性和可靠性：利用云环境使IT资源变的高度可用和可靠，企业能向用户提供更高的服务质量保证，同时，还能进一步降低或避免出现意外运行故障时可能带来的损失。</li>
</ul>
<p>风险与挑战：<code>了解</code></p>
<ul>
<li>增加的安全漏洞：云环境会引入不同的安全挑战，其中的一些与信任边界重叠有关，这些重叠是由于多个云用户共享一个云提供者的IT资源造成的。</li>
<li>降低的运营管理控制：根据云提供者在其平台上提供的控制，云用户的运营控制受限于云环境。</li>
<li>云提供者之间有限的可移植性：云的私有特征可能会抑制云IT资源的移植。</li>
<li>多地区法规遵循和法律问题：当数据和IT资源被第三方云提供者处理时，其地理位置可能会可能会引起各种法律和法规问题。</li>
</ul>
<h1 id="二-基本概念与模型">二、基本概念与模型</h1>
<p>角色与边界<code>了解</code></p>
<ul>
<li>
<p><strong>云提供者</strong>(cloud provider)：提供基于云的IT资源的组织机构。</p>
<ul>
<li>云提供者要依据SLA保证，负责向云用户保证云服务可用。</li>
<li>提供必要管理和行政职责，保证整个云基础设施的持续运行。</li>
<li>云提供者通常拥有IT资源，但也会转售从其它云提供者那里租来的IT资源。</li>
</ul>
</li>
<li>
<p><strong>云用户</strong>(cloud consumer)：是组织机构或人，他们与云提供者签订正式合同或者约定，使用云提供者提供的可用的IT资源。</p>
<ul>
<li>云用户使用<strong>云服务用户</strong>(a cloud service consumer)来访问云服务。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img1.png" alt="alt text"></li>
</ul>
</li>
<li>
<p><strong>云服务</strong>(cloud service)：指任何可以通过云远程访问的IT资源。</p>
</li>
<li>
<p><strong>云服务拥有者</strong>(cloud service owner)：在法律上拥有云服务的个人或组织。</p>
<ul>
<li>云服务拥有者可以是<strong>云用户</strong>，也可以是拥有该云服务所在云的<strong>云提供者</strong>。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img2.png" alt="alt text"><br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img3.png" alt="alt text"></li>
</ul>
</li>
<li>
<p><strong>云资源管理者</strong>(cloud resource administrator)：负责管理基于云的IT资源（包括云服务）的人或组织。</p>
<ul>
<li>云资源管理者可以是云服务所属的云的<strong>云用户</strong>或<strong>云提供者</strong>。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img4.png" alt="alt text"><br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img5.png" alt="alt text"></li>
<li>云资源管理者可以是签订了合约来管理基于云的IT资源的<strong>第三方组织</strong>。</li>
</ul>
</li>
<li>
<p>其他角色：</p>
<ul>
<li>云审计者(cloud auditor)：对云环境进行独立评估的第三方，典型责任包括安全控制评估、隐私影响以及性能评估，主要目的是提供对云环境的公平评价（和可能的背书），帮助加强云用户和云提供者之间的信任关系。</li>
<li>云代理(cloud broker)：承担管理和协商云用户和云提供者之间的云服务使用的责任，其提供的仲裁服务包括服务调解、仲裁。</li>
<li>云运营商(cloud carrier)：负责提供云用户和云提供者之间的线路级连接，通常由网络和电信提供商担任。</li>
</ul>
</li>
<li>
<p><strong>组织边界</strong>(organizational boundary)：是一个<strong>物理范围</strong>，指由一家组织拥有和管理的IT资源集合。</p>
<ul>
<li>组织边界表示该组织的IT资产和IT资源，不表示组织实际的边界。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img6.png" alt="alt text"></li>
</ul>
</li>
<li>
<p><strong>信任边界</strong>(trust boundary)：是一个<strong>逻辑范围</strong>，通常会<strong>跨越物理边界</strong>，表明IT资源受信任的程度。</p>
<ul>
<li>当组织角色是云用户时，要访问基于云的IT资源时，需要将信任扩展到该组织的物理边界之外，把部分云环境包括进来。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img7.png" alt="alt text"></li>
</ul>
</li>
</ul>
<p>云特性<code>了解</code></p>
<ul>
<li>按需使用(on-demand usage)：云用户可以单边访问基于云的IT资源，给予用户自助提供IT资源的自由。一旦配置好了，对自助提供的IT资源的访问可以自动化，不再需要云用户或云提供者的介入。</li>
<li>泛在接入(ubiquitous access)：即随处访问，允许基于云的服务能够被各种云服务用户访问，是一个云服务可用被广泛访问的能力。实现泛在接入可能需要支持一组设备、传输协议、接口和安全技术。</li>
<li>多租户(multitenancy) ：一个软件程序的实例能够服务不同用户（租户），租户之间互相隔离，通常通过虚拟化技术实现。</li>
<li>弹性(elasticity)：云根据运行时条件，或云用户或云提供者事先确定的要求，自动透明的扩展IT资源。这是采用云计算的核心理由。</li>
<li>可测量的使用(measured usage)：是云平台记录对IT资源使用情况的能力，根据记录的内容，云提供者只对云用户实际使用的和/或被授予IT资源访问的时间段进行收费。</li>
<li>可恢复性(resilient computing)：是一种故障转移形式，它在多个物理位置分放IT资源的冗余实现。当一个资源出现故障时，就自动转移到另一个冗余实现上处理。</li>
</ul>
<p>云交付模型(cloud delivery model)：是云提供者提供的具体的、事先打包好的IT资源组合。</p>
<ul>
<li>基础设施即服务(IaaS)：基础设施可以包括硬件、网络、连通性、操作系统、以及其他一些原始的IT资源，这些资源是虚拟化的并打包成包，使得运行时扩展和定制基础设施变的简单。IaaS向云用户提供对基于“原始的”基础设施IT资源的高等级管理控制。</li>
<li>平台即服务(PaaS)：是预先定义好的就绪可用(ready-to-use)的环境，一般由已经部署好和配置好的IT资源组成。云用户可以使用这个环境来构建和部署云服务和解决方案，不过管理控制权有所下降。</li>
<li>软件即服务(SaaS)：把软件程序定位成共享的云服务，作为“产品”或通用工具进行提供，这些共享云服务可以是云承载的商业产品。特点：订阅制、无需安装和维护、随时随地访问、自动更新和升级<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img8.png" alt="alt text"></li>
<li>存储即服务(Storage as a Service)</li>
<li>数据库即服务(Database as a Service)</li>
<li>安全即服务(Security as a Service)</li>
<li>通信即服务(Communication as a Service)</li>
<li>集成即服务(Integration as a Service)</li>
<li>测试即服务(Testing as a Service)</li>
<li>处理即服务(Process as a Service)</li>
</ul>
<p>云部署模型</p>
<ul>
<li><strong>公有云</strong>(public cloud)：由第三方云提供者拥有的可公共访问的云环境。公有云里的IT资源通常是按照事先描述好的云交付模型提供的，一般需要付费才能提供给云用户使用。</li>
<li><strong>社区云</strong>：类似于公有云，只是访问被限制在特定的云用户社区，社区云用户成员通常共同承担定义和发展社区云的责任。社区成员不一定能够访问或控制云中的所有IT资源。</li>
<li><strong>私有云</strong>：由一家组织单独拥有。私有云使得组织把云计算技术当做一种手段，可以集中访问不同部分、位置或部门的IT资源。</li>
<li><strong>混合云</strong>：由两个或者更多不同部署模型组成的云环境，如云用户把敏感信息部署在私有云，非敏感信息部署在公有云。</li>
<li>虚拟私有云：又称专有云或托管云，由公有云提供者托管或管理，仅对一个用户可用。</li>
<li>互联云：基于两个或更多互相连接起来的云组成的架构。</li>
</ul>
<h1 id="三-云使能技术">三、云使能技术</h1>
<p>Internet服务提供者(Internet Service Provider, ISP)<code>了解</code></p>
<ul>
<li>Internet组织</li>
<li>Internet拓扑</li>
<li>云用户和云提供者的通信</li>
<li>互联架构的两个基本组成部分
<ul>
<li>无连接分组交换</li>
<li>基于路由器的互联</li>
</ul>
</li>
</ul>
<p>数据中心：是一种特殊的IT基础设施，用于集中放置IT资源，如服务器、数据库、网络、通信设备和软件系统<br>
数据中心技术：<code>了解</code></p>
<ul>
<li>虚拟化：数据中心包含了物理和虚拟的IT资源
<ul>
<li>物理IT资源层：放置计算/网络系统和设备，以及硬件系统及其操作系统的基础设施。</li>
<li>虚拟层：对资源进行抽象和控制，通常由虚拟化平台上的运行和管理工具构成，将物理计算和网络IT资源抽象为虚拟化部件，以便于进行资源分配、操作、释放、监视和控制。</li>
</ul>
</li>
<li>标准化和模块化
<ul>
<li>以硬件为基础，用模块化架构进行设计，整合多个相同的基础设施模块和设备，具备可扩展性、可增长性和快速更换硬件的特点。</li>
<li>模块化和标准化是减少投资和运营成本的关键条件，因为它们能实现采购、收购、部署、运营和维护的规模经济。</li>
</ul>
</li>
<li>自动化
<ul>
<li>将供给、配置、打补丁和监控等任务进行自动化。</li>
</ul>
</li>
<li>远程操作和管理
<ul>
<li>在数据中心，IT资源的大多数操作和管理任务都是远程进行的，除非执行特殊任务，如设备处理、布线或者硬件级的安装与维护。</li>
</ul>
</li>
<li>高可用性
<ul>
<li>采用高冗余实现高可用性，如冗余不间断电源（UPS）、综合布线、环境控制子系统；通信链路、集群硬件等。</li>
</ul>
</li>
<li>安全的设计、操作和管理
<ul>
<li>对物理和逻辑的访问控制，及数据恢复策略要求高。</li>
</ul>
</li>
<li>配套设施
<ul>
<li>数据中心的配套设施放置在专门设计的房间，配备了专门的计算设备、存储设备和网络设备。这些设施分为几个功能布局区域以及各种电源、布线和环境控制站等，用于控制供暖、通风、空调、消防和其它相关子系统。</li>
</ul>
</li>
<li>计算硬件
<ul>
<li><em>机架式服务器</em>设计：由含有电源、网络、内部冷却线路的标准机架构成。</li>
<li>支持不同的硬件处理架构，如x86-32位、x86-64位和RISC。</li>
<li>在大小如标准机架一个单元格空间上，可以容纳一个具有几百个处理器内核的高效能<em>多核CPU</em>。</li>
<li>冗余且可热插拔的组件，如硬盘、电源、网络接口和存储控制器卡。</li>
</ul>
</li>
<li>存储硬件
<ul>
<li><em>硬盘阵列</em>(hard disk array)：这些阵列本身就进行了划分，并在多个物理硬盘间进行数据复制，利用备用磁盘提升性能和冗余度。这项技术一般利用独立磁盘冗余阵列(RAID)方式，通常使用硬件磁盘阵列控制器来实现。</li>
<li>I/O高速缓存(I/O caching)：通常由硬盘阵列控制器完成，通过数据缓存来降低磁盘访问时间，提高性能。</li>
<li>热插拔硬盘(hot-swappable hard disk)：无需关闭电源，即可安全地从磁盘阵列移除硬盘。</li>
<li><em>存储虚拟化</em>(storage virtualization)：通过虚拟化硬盘和存储共享来实现。</li>
<li>快速数据复制机制(fast data replication mechanism)：包括快照(snapshotting)和卷克隆(volume cloning)。快照是将虚拟内存保存到一个管理程序可读的文件中，以备将来重新装载。卷克隆是指复制虚拟或物理硬盘的卷和分区。</li>
</ul>
</li>
<li>网络硬件
<ul>
<li>运营商和外网互联：这是与网络互联基础设施相关的子系统，这种互联通常由主干路由器和外围网络安全设备组成。其中，主干路由器提供外部WAN连接与数据中心LAN之间的路由；外围网络安全设备包括防火墙和VPN网关。</li>
<li>Web层负载均衡和加速：包括Web加速设备，如XML预处理器、加密/解密设备以及进行内容感知路由的第7层交换设备。</li>
<li>LAN光网络：内部LAN是光网络，为数据中心所有联网的IT资源提供高性能的冗余连接。这些先进的网络交换机还可以实现多个虚拟化功能，如将LAN分隔为多个VLAN、链路聚合、网络间的控制路由、负载均衡，以及故障转移。</li>
<li>SAN(storage area networking)光网络：通常由光纤通道(FC)、以太网光纤通道(FCoE)和无限带宽(InfiniBand)网络交换机实现。</li>
<li>NAS(网络存储器)网关：这个子系统为基于NAS的存储设备提供连接点，提供实现协议转换的硬件，以便实现SAN和NAS设备之间的数据传输。</li>
</ul>
</li>
</ul>
<p><strong>虚拟化技术</strong>：虚拟化是将物理IT资源转换为虚拟IT资源的过程 <code>重点</code></p>
<ul>
<li>例如：
<ul>
<li>服务器(server)：一个物理服务器可以抽象为一个虚拟服务器。</li>
<li>存储设备(storage)：一个物理存储设备可以抽象为一个虚拟存储设备或一个虚拟磁盘。</li>
<li>网络(network)：物理路由器和交换机可以抽象为逻辑网络，如VLAN。</li>
<li>电源(power)：一个物理UPS和电源分配单元可以抽象为通常意义上的虚拟UPS</li>
</ul>
</li>
<li><strong>虚拟化的分类</strong>：
<ul>
<li><strong>基于硬件的虚拟化</strong>：将虚拟化软件直接安装在物理主机硬件上，从而绕过宿主操作系统，这也适用于基于操作系统的虚拟化。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img9.png" alt="alt text"></li>
<li><strong>基于操作系统的虚拟化</strong>：在一个已存在的操作系统上安装虚拟化软件，这个已存在的操作系统称为宿主操作系统(host operating system)。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img10.png" alt="alt text"></li>
</ul>
</li>
<li>虚拟化管理
<ul>
<li>通常由虚拟化基础设施管理(Virtualization Infrastructure Management, VIM)工具予以实现。</li>
</ul>
</li>
</ul>
<p><strong>虚拟化</strong>的特点：</p>
<ul>
<li>在虚拟服务器上运行的客户操作系统和应用软件，都<strong>不会感知到虚拟化的过程</strong></li>
<li><strong>硬件无关性</strong>
<ul>
<li>在一个IT硬件平台上配置操作系统和安装应用软件会导致许多软硬件依赖关系，非虚拟环境下硬件的变化，将导致操作系统的重新配置。</li>
</ul>
</li>
<li><strong>服务器整合（分区）</strong>
<ul>
<li>虚拟化软件提供的协调功能，可以在一个虚拟主机上同时创建多个虚拟服务器</li>
<li>虚拟化技术允许不同虚拟服务器共享一个物理服务器，这就是服务器整合(server consolidation)。</li>
</ul>
</li>
<li><strong>隔离</strong>
<ul>
<li>在同一服务器上的虚拟机之间互相隔离，改变了之前单台物理机服务器只能挂单个应用的格局。</li>
</ul>
</li>
<li>资源复制：创建虚拟服务器就是生成虚拟磁盘映像，它是硬盘内容的二进制文件副本。主机操作系统可以访问这些文件，因此简单的文件操作就可以实现虚拟服务器的复制、迁移和备份，这种方便性有助于实现以下功能：
<ul>
<li>创建标准化虚拟机映像，通常包含了虚拟硬件功能、客户操作系统和其它应用软件，将这些内容预打包到虚拟磁盘映像，以支持瞬时部署。</li>
<li>增强迁移和部署虚拟机新实例的灵活性，以便快速向外和向上扩展。</li>
<li>回滚功能，将虚拟服务器内存状态和硬盘映像保存到基于主机的文件中，可以快速创建VM快照。</li>
<li>支持业务连续性，具有高效的备份和恢复程序，可以创建多个关键IT资源和应用实例。</li>
</ul>
</li>
<li>其他特点：
<ul>
<li>性能开销(performance overhead)：对于高工作负载，又较少使用资源共享和复制的复杂系统而言，虚拟化可能并不是理想的选择。</li>
<li>特殊硬件兼容性(special hardware compatibility)：虚拟化软件不能兼容硬件厂商的专门硬件，或者软件自身与近期发布的硬件版本不兼容。</li>
<li>可移植性(portability)：虚拟化程序的兼容性带来的编程和管理接口的移植问题。</li>
</ul>
</li>
</ul>
<p>Web技术<code>了解</code></p>
<ul>
<li>WWW是由通过Internet访问的互联IT资源构成的系统，其两个基本组件是Web浏览器客户端和Web服务器。Web技术架构由三个基本元素组成：
<ul>
<li>统一资源定位符(Uniform Resource Locator, URL)：一个标准语法，用于创建指向Web资源的标识符，URL通常由逻辑网络位置构成。</li>
<li>超文本传输协议(Hypertext Transfer Protocol, HTTP)：通过WWW交换内容和数据的基本通信协议，通常，URL通过HTTP传送。</li>
<li>标记语言(Markup Language, HTML/XML)：标记语言提供一种轻量级方法来表示以Web为中心的数据和元数据。HTML(表示Web页面的样式)和XML(允许定义词汇表，以便通过元数据对Web数据赋以意义)是两种主要标记语言。</li>
</ul>
</li>
</ul>
<p>多租户技术</p>
<ul>
<li>目的
<ul>
<li>使多个用户在逻辑上同时访问同一个应用，每个用户对其使用、管理和定制的应用程序都有自己的视图，是该软件的一个专有实例，同时每个租户都意识不到还有其他租户在使用该应用。</li>
</ul>
</li>
<li>每个租户可定制的应用特性
<ul>
<li>用户界面(user interface)：租户可以定义具有专门界面外观的应用接口。</li>
<li>业务流程(business process)：在实现应用时，租户可以定制业务处理的规则、逻辑和工作流。</li>
<li>数据模型(data model)：租户可以扩展应用的数据模式，以包含、排除或者重命名应用数据结构的字段。</li>
<li>访问控制(access control)：租户可以独立控制用户或群组的访问权限。</li>
</ul>
</li>
<li>特点：
<ul>
<li>使用隔离(usage isolation)：一个租户的使用行为不会影响到该应用对其他租户可用性和性能。</li>
<li>数据安全(data security)：租户不能访问其他租户的数据。</li>
<li>可恢复性(recovery)：每个租户的数据备份和恢复过程都是分别执行的。</li>
<li>应用升级(application upgrade)：共享软件构件的同步升级不会对租户造成负面影响。</li>
<li>可扩展性(scalability)：根据现有租户增长的使用需求或租户数量增加来扩展应用。</li>
<li>使用计费(metered usage)：根据租户实际使用的应用处理和功能来收费。</li>
<li>数据层隔离(data tier isolation)：租户拥有独立的且与其他租户隔离的数据库、表格和模式。</li>
</ul>
</li>
</ul>
<h1 id="四-基本云安全">四、基本云安全</h1>
<p>含义：<code>了解</code></p>
<ol>
<li>云计算安全：保护云计算本身的安全性</li>
<li>安全云：安全成为云计算的一种服务</li>
</ol>
<p>概念：<br>
<strong>安全需求</strong>：<code>重点</code></p>
<ul>
<li>基本安全需求：保密性（<strong>C</strong>onfidentiality）、完整性（<strong>I</strong>ntegrity）、可用性（<strong>A</strong>vailability）。简称CIA</li>
<li>延伸安全需求：真实性（Authenticity）、不可抵赖性（Non-Repudiation）、可问责性（Accountability）</li>
</ul>
<ol>
<li>保密性(confidentiality)
<ul>
<li>定义：指事物只有被授权才能访问的特性。云环境中的保密性，主要是关于对<strong>传输</strong>和<strong>存储</strong>的数据进行访问限制的。</li>
<li>防御措施
<ul>
<li><strong>数据加密</strong>：智能家居中，若智能电表的用电数据没有良好加密，则不法分子可利用这些用电数据推断用户的习惯，从而猜测用户当前是否在家</li>
<li><strong>访问控制</strong>：在云存储服务中，企业可能将员工分为不同的角色，每个角色有不同的数据访问权限。</li>
</ul>
</li>
</ul>
</li>
<li>完整性（integrity）
<ul>
<li>定义：指未被未授权方篡改的特性，一个比较重要的问题是传送到云服务的数据和云服务接收到的数据完全一致。
<ul>
<li><strong>数据完整性</strong>：信息在存储或传输的过程中保持未经授权不能篡改的特性。</li>
<li><strong>系统完整性</strong>：确保系统免于未经授权的操作，预期功能不受损害，也可理解为系统的功能可以可靠正确地实现。</li>
</ul>
</li>
<li>防御措施
<ul>
<li>Hash 函数</li>
<li>数字签名</li>
<li>消息认证码</li>
</ul>
</li>
</ul>
</li>
<li>可用性(availability)
<ul>
<li>定义：指特定时间段内可以访问和可以使用的特性。
<ul>
<li>云服务的可用性是云提供者和云运营商共同的责任。</li>
<li>当基于云的解决方案扩展到云服务用户时，可用性也是云用户的责任。</li>
</ul>
</li>
<li>攻击手段
<ul>
<li>拒绝服务攻击（DoS）</li>
<li>分布式拒绝服务攻击（DDoS）</li>
</ul>
</li>
</ul>
</li>
<li>真实性(authenticity)
<ul>
<li>定义：指事物是由经过授权的源提供的特性 or 能够识别/实体认证及<strong>确定数据来源</strong><br>
真实性提供了一种证明，证明这些交互是否是唯一链接到一个经过授权的源的，这意味着系统需要验证用户或设备的身份，该验证过程称为“认证”。</li>
<li>实现方法：认证、数字签名、公钥基础设施（PKI）等</li>
</ul>
</li>
<li>不可抵赖性（Non-Repudiation）
<ul>
<li>指通信双方在信息交互过程中，确信参与者本身，以及参与者所提供的信息的真实同一性，即所有参与者都不可能否认或抵赖本人的真实身份，以及提供信息的原样性和完成的操作与承诺。</li>
</ul>
</li>
<li>可问责性(Accountability)
<ul>
<li>指对特定行为能唯一地跟踪到行为主体，是一项综合的安全需求。<br>
系统的绝对安全是一个不可达到的目标，因此需要将破坏安全的行为<strong>追溯到责任方</strong>，以便于后续的责任追溯以及纠纷解除。可以对破坏安全属性行为的威慑，帮助故障排除，入侵检测与防御，事后恢复等。</li>
<li>实现方法：身份认证，日志记录和审计，访问控制，不可否认性</li>
</ul>
</li>
</ol>
<p><strong>威胁作用者</strong>(threat agent)：是引发威胁的实体，因为它能够实施攻击。<code>需要知道</code></p>
<ul>
<li><strong>匿名攻击者</strong>(anonymous attacker)：是云中没有权限、不被信任的云服务用户。常试图从云边界的<strong>外部</strong>进行攻击。
<ul>
<li>它通常是一个外部软件程序，通过公网发动网络攻击。</li>
<li>当匿名攻击者对安全策略和防护所知有限时，会抑制他们形成有效攻击的能力</li>
<li>匿名攻击者往往诉诸绕过用户账号或窃取用户证书的手段，同时使用能确保匿名性或需要大量资源才能被检举的方法。</li>
</ul>
</li>
<li><strong>恶意服务作用者</strong>(malicious service agent)：能截取并转发云内的网络流量。试图恶意地<strong>使用</strong>或<strong>篡改</strong>数据。
<ul>
<li>它通常是带有被损害的或恶意逻辑的服务代理（或伪装成服务代理的程序）。</li>
<li>也可能是能够远程截取并破坏消息内容的外部程序。</li>
</ul>
</li>
<li><strong>授信的攻击者</strong>(trusted attacker)：又称<strong>恶意租户</strong>(malicious tenant)，是经过授权的云服务用户，与同一云环境中的云用户共享IT资源，试图利用合法的证书来把云提供者、以及与他们共享IT资源的云租户作为攻击目标。
<ul>
<li>通过滥用合法证书、挪用敏感和保密信息，在云的信任边界内部发动攻击。</li>
<li>恶意租户能够使用基于云的IT资源做很多非法之用，包括非法入侵认证薄弱的进程、破解加密、往电子邮件账号发送垃圾邮件、发起拒绝服务等常见的攻击等。</li>
</ul>
</li>
<li><strong>恶意的内部人员</strong>(malicious insider)：是人为的威胁作用者，他们的行为代表云提供者，或者与之有关。他们是试图<strong>滥用</strong>对云资源范围的<strong>访问特权</strong>的人。
<ul>
<li>他们通常是现任或前任雇员，或是能够访问云提供者资源范围的第三方。</li>
<li>这种类型的威胁作用者会带来极大的破坏可能性，因为恶意的内部人员可能拥有访问云用户IT资源的管理特权。</li>
</ul>
</li>
</ul>
<p><strong>云安全威胁</strong><code>重点</code></p>
<ul>
<li><strong>流量窃听</strong>(traffic eavesdropping)：指当数据在传输到云中或在云内部传输时（通常是从云用户到云提供者），被<strong>恶意服务作用者被动地截获</strong>，用于非法的信息收集，破坏<strong>保密性</strong>。由于这种攻击被动的性质，其更容易长时间进行而不被发现。</li>
<li><strong>恶意中间人/恶意媒介</strong>(malicious intermediary)：是指消息被<strong>恶意服务作用者</strong>截获并篡改，因此可能会破坏消息的<strong>保密性</strong>和<strong>完整性</strong>。</li>
<li><strong>拒绝服务</strong>(DoS)：攻击的目标是使IT资源过载至无法正确运行，破环<strong>可用性</strong>，发起形式包括：
<ul>
<li>云服务上的负载由于伪造的消息或重复的通信请求不正常的增加。</li>
<li>网络流量过载，降低了响应性，性能下降。</li>
<li>发出多个云服务请求，每个请求都设计成消耗过量的内存和处理资源。</li>
</ul>
</li>
<li><strong>授权不足</strong>：是指错误的授予了攻击者访问权限，或是授权太宽泛，导致攻击者能够访问本应该受到保护的IT资源。
<ul>
<li>这种攻击的一种变种称为弱认证(weak authentication)，如果用弱密码或共享账户来保护IT资源，就可能导致这种攻击。</li>
</ul>
</li>
<li><strong>虚拟化攻击</strong>(Virtualization attack)：利用虚拟化平台的漏洞获得了对底层物理硬件未被授权的访问，危害虚拟化平台的<strong>保密性</strong>、<strong>完整性</strong>和<strong>可用性</strong>。例如：虚拟机逃逸攻击。</li>
<li><strong>信任边界重叠</strong>：如果云中的物理IT资源是由不同的云服务共享的，那么这些云服务用户的信任边界是重叠的。恶意的云服务用户可以把目标设定为共享的IT资源，意图损害其他共享同样信任边界的云服务用户或IT资源。</li>
</ul>
<h1 id="五-云基础设施机制">五、云基础设施机制</h1>
<p><strong>云基础设施机制</strong>是云环境的基础构建块，它是形成基本云技术架构基础的主要构件。<br>
<strong>逻辑网络边界</strong>：将一个<strong>网络环境</strong>与通信网络的其他部分分割开来，形成一个<strong>虚拟网络边界</strong>，包含并隔离了一组关于云的IT资源，这些资源可能是分布式的。</p>
<ul>
<li>
<p>作用：</p>
<ul>
<li>将云中的IT资源与非授权用户隔离</li>
<li>将云中的IT资源与非用户隔离</li>
<li>将云中的IT资源与云用户隔离</li>
<li>控制被隔离IT资源的可用带宽</li>
</ul>
</li>
<li>
<p>实现隔离机制的网络设备有：</p>
<ul>
<li>虚拟防火墙(virtual firewall)：一种IT资源，可以主动过滤被隔离网络的流量，并控制其与Internet的交互。
<ul>
<li>技术特点：
<ol>
<li>每个虚拟防火墙独立维护一组安全区域。</li>
<li>每个虚拟防火墙独立维护一组资源对象(地址/地址组、服务/服务组等)。</li>
<li>每个虚拟防火墙独立维护自己的包过滤策略。</li>
<li>每个虚拟防火墙独立维护自己的 NAT 策略、ALG 策略。</li>
<li>可限制每个虚拟防火墙占用的资源数</li>
</ol>
</li>
</ul>
</li>
<li>VLAN（虚拟局域网）、VPN（虚拟专用网络）
<ul>
<li>虚拟专用网络(virtual private network, VPN)：虚拟专用网络(VPN)是一种通过公用网络(例如Internet)连接专用网络(例如办公室网络)的方法。</li>
<li>VPN系统的主要特点
<ol>
<li>安全保障</li>
<li>服务质量保障</li>
<li>可扩充性和灵活性</li>
<li>可管理性</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>通过防火墙我们可以将网络划分为三个区域：安全级别最高的LAN Area (内网)， 安全级别中等的DMZ区域（Demilitarized Zone，非军事区）和安全级别最低的Internet区域（外网）。<code>了解</code></p>
<p><strong>虚拟服务器</strong>：一种<strong>模拟物理服务器</strong>的<strong>虚拟化软件</strong>。通过提供独立的虚拟服务器，可以实现多个用户共享一个物理服务器。从映像文件进行虚拟服务器的实例化是一个可以快速且按需完成资源分配过程。<code>重点</code></p>
<ul>
<li>虚拟基础设施管理器（Virtual Infrastructure Manager, VIM）
<ul>
<li>具有多种功能，包括：
<ul>
<li>资源管理</li>
<li>监控与性能优化</li>
<li>自动化管理</li>
<li>安全性管理</li>
<li>弹性伸缩</li>
<li>多租户管理</li>
</ul>
</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img11.png" alt="alt text"></li>
</ul>
</li>
<li>虚拟服务器的特性
<ul>
<li>多实例：一台物理机上可以运行多个虚拟服务器</li>
<li>隔离性：虚拟服务器可以将同一台物理服务器上的多个虚拟机完全隔离开来, 多个虚拟机之间就像多个物理机器之间一样。</li>
<li>封装性：虚拟机都保存在文件中，且可通过移动跟复制这些文件的方式来移动跟复制该虚拟机。</li>
</ul>
</li>
<li>虚拟服务器的优点
<ul>
<li>实时迁移</li>
<li>快速部署</li>
<li>高兼容性</li>
<li>提高资源利用率</li>
<li>动态调动资源</li>
</ul>
</li>
</ul>
<p><strong>云存储设备</strong>：专门为云配置所设计的存储设备。<code>重点</code></p>
<ul>
<li>云存储等级：指数据存储的逻辑单元
<ul>
<li><strong>块</strong>： 存储的最低等级，最接近硬件，是可被独立访问数据的最小单位，存储效率最高。
<ul>
<li>常被分配给云服务器和虚拟机使用，也被用来存储大型数据。</li>
</ul>
</li>
<li><strong>文件</strong>：数据集合分组存放在文件夹中的文件里。数据以文件的形式存储在文件系统中，通过文件路径进行访问。可以包括各种类型数据：文本、图片、音视频等。</li>
<li><strong>数据集</strong>：基于表格、以分隔符分割或以记录形式组织的数据集合。以表格的形式展示；用于存储结构化数据；便于组织和分析。</li>
<li><strong>对象</strong>：将数据及相关的元数据组织为Web的资源。通常以唯一的标识符来标识和访问；用于存储大规模的非结构化数据。存储灵活性、可拓展性、可靠性高，同时成本较低。</li>
</ul>
</li>
</ul>
<p><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img12.png" alt="alt text"></p>
<ul>
<li><strong>网络存储接口</strong>
<ul>
<li><strong>文件存储</strong>和<strong>块存储</strong>通常通过<strong>网络存储接口</strong>来访问。</li>
<li>文件存储需要将独立的数据存入不同的文件，当<strong>数据发生变化</strong>时，原来的文件要被生成的新文件替换。</li>
<li>云存储设备机制是基于文件接口时，<strong>数据搜索和读取性能很可能不是最优的</strong>。存储水平和阈值都是由文件系统本身决定。</li>
<li>不论是逻辑单元号（LUN）还是虚拟卷，<strong>块存储与文件集存储相比，拥有更好的性能</strong>。</li>
</ul>
</li>
<li><strong>对象存储接口</strong>
<ul>
<li><strong>各种类型的数据</strong>可以作为<strong>Web资源</strong>被引用和存储。</li>
<li>实现这种接口的云存储设备机制通常可以通过以<strong>HTTP</strong>为主要协议的<strong>REST</strong>或<strong>基于Web服务</strong>的云服务来访问。</li>
</ul>
</li>
<li><strong>数据库存储接口</strong>
<ul>
<li><strong>关系数据存储</strong>
<ul>
<li>依靠表格，将相似的数据组织为行列的形式，表格之间的关系可以用于保护数据的完整性，避免冗余（规范化）。</li>
<li>基于云的关系数据库的主要<strong>挑战</strong>来自于扩展和性能。
<ul>
<li>垂直扩展比水平扩展更加复杂。</li>
<li>远程访问时，大量数据的表可能会出现更高的处理开销和延迟。</li>
</ul>
</li>
</ul>
</li>
<li>非关系数据存储（NoSQL）：
<ul>
<li>采用更松散的结构存储数据，<strong>避免</strong>关系数据库带来可能的<strong>复杂性和处理成本</strong>，可以进行更多的<strong>水平扩展</strong>。</li>
<li>非关系存储倾向于不支持关系数据库的功能，如事务或连接。</li>
<li>将规范化数据导出到非关系存储后，<strong>数据大小一般会增加</strong>。</li>
<li>非关系数据存储机制是专有的，严重<strong>限制了数据的可移植性</strong>。</li>
</ul>
</li>
</ul>
</li>
<li>云存储设备的主要问题在于数据的<strong>安全性</strong>、<strong>完整性</strong>和<strong>保密性</strong>。</li>
</ul>
<p>云使用监控<code>了解</code></p>
<ul>
<li>监控代理
<ul>
<li>一种中间的事件驱动程序，作为服务代理驻留在已有通信路径上，对数据流进行透明的监控和分析。</li>
<li>这种类型的云使用监控通常用来计量网络流量和消息指标。</li>
</ul>
</li>
<li>资源代理
<ul>
<li>一种处理模块，通过专门的资源软件进行事件驱动的交互来收集数据。</li>
<li>它在资源软件级上，监控预定义的且可观测事件的使用指标，比如启动、暂停、恢复和垂直扩展。</li>
</ul>
</li>
<li>轮询代理
<ul>
<li>一种处理模块，通过轮询IT资源来收集云服务使用数据。</li>
<li>通常被用于周期性地监控IT资源状态，比如正常运行时间与停机时间。</li>
</ul>
</li>
</ul>
<p>资源复制<code>了解</code>：在需要加强IT资源的可用性和性能时，使用资源复制技术对同一个IT资源创建多个实例。</p>
<p>已就绪环境<code>了解</code></p>
<ul>
<li>是PaaS云交付模型定义的组件，它代表的是预定义的基于云的平台。</li>
<li>该平台有一组已安装的IT资源（如数据库，中间件，开发工具）组成，可以被云用户使用和定制。</li>
<li>使用这些环境在云内远程开发和配置自身的服务与应用程序。</li>
</ul>
<h1 id="六-虚拟化-重点">六、虚拟化 <code>重点</code></h1>
<p>虚拟化技术概述</p>
<ul>
<li>定义：
<ul>
<li><strong>虚拟化</strong>(Virtualization)是计算机资源的逻辑表示，主要目的是使上层计算或应用与下层的资源或管理解耦，把底层资源抽象成另一种形式的资源，从而提供给上层使用和分享。</li>
<li><strong>虚拟机监视器</strong>(Virtual Machine Monitor)为软件和硬件的复制提供必要的机制。</li>
<li>虚拟机<strong>本质上是一套软件系统</strong>，它和物理机(Physical Machine)可形成对应。</li>
<li>对虚拟机来说，也存在虚拟处理器、虚拟存储、虚拟网络的概念，其中<strong>处理器（计算）虚拟化</strong>的实现最为关键。</li>
<li>经典虚拟机的实现方式主要采取<strong>宿主型</strong>(Hosted VM)，即虚拟化软件直接安装在宿主机的OS中，虚拟内存、磁盘、I/O设备的状态都被封装成专用的文件保存在宿主机上。</li>
</ul>
</li>
<li>经典虚拟机的特点
<ul>
<li>多态(Polymorphism)：支持多种类型的OS。</li>
<li>重用(Manifolding)：虚拟机的镜像可以被反复复制和使用。</li>
<li>复用(Multiplexing)：虚拟机能够对物理资源时分复用。</li>
</ul>
</li>
</ul>
<p>虚拟机核心原理和技术</p>
<ul>
<li>系统接口
<ul>
<li>计算机系统的组建离不开各式各样的接口，接口将两个不同的对象环境联系起来，使之得以协调运行。</li>
<li>最基本的接口是微处理器指令集架构(Instruction Set Architecture, ISA)。</li>
<li>然而，应用程序一般不是借助于ISA直接运行在硬件平台之上的，多个软件应用一般也不完全隔离运行，它们共同运行在某个OS之上，并共享其服务。<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mtext>硬件</mtext><mo stretchy="false">]</mo><mspace width="1em"><munder accentunder="true"><mrow><mtext>指令集（</mtext><mi>I</mi><mi>S</mi><mi>A</mi><mtext>）</mtext></mrow><mo stretchy="true">→</mo></munder><mspace width="1em"><mo stretchy="false">[</mo><mi>O</mi><mi>S</mi><mo stretchy="false">]</mo><mspace width="1em"><munder accentunder="true"><mrow><mtext>系统调用</mtext><mi>S</mi><mi>y</mi><mi>s</mi><mi>C</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mo stretchy="true">→</mo></munder><mspace width="1em"><mo stretchy="false">[</mo><mtext>函数库</mtext><mo stretchy="false">]</mo><mspace width="1em"><munder accentunder="true"><mrow><mtext>应用编程接口</mtext><mi>A</mi><mi>P</mi><mi>I</mi></mrow><mo stretchy="true">→</mo></munder><mspace width="1em"><mo stretchy="false">[</mo><mtext>应用程序</mtext><mo stretchy="false">]</mo></mspace></mspace></mspace></mspace></mspace></mspace></mrow><annotation encoding="application/x-tex">[硬件] \quad\underrightarrow{指令集（ISA）}\quad [OS] \quad\underrightarrow{系统调用SysCall}\quad [函数库] \quad\underrightarrow{应用编程接口API}\quad [应用程序]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.41088em;vertical-align:-0.522em;"></span><span class="mopen">[</span><span class="mord cjk_fallback">硬</span><span class="mord cjk_fallback">件</span><span class="mclose">]</span><span class="mspace" style="margin-right:1em;"></span><span class="mord accentunder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span class="svg-align" style="top:-2.4779999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg width="400em" height="0.522em" viewbox="0 0 400000 522" preserveaspectratio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">指</span><span class="mord cjk_fallback">令</span><span class="mord cjk_fallback">集</span><span class="mord cjk_fallback">（</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">A</span><span class="mord cjk_fallback">）</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.522em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">]</span><span class="mspace" style="margin-right:1em;"></span><span class="mord accentunder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8888799999999999em;"><span class="svg-align" style="top:-2.4779999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg width="400em" height="0.522em" viewbox="0 0 400000 522" preserveaspectratio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span><span style="top:-3.19444em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">系</span><span class="mord cjk_fallback">统</span><span class="mord cjk_fallback">调</span><span class="mord cjk_fallback">用</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.522em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">[</span><span class="mord cjk_fallback">函</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">库</span><span class="mclose">]</span><span class="mspace" style="margin-right:1em;"></span><span class="mord accentunder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span class="svg-align" style="top:-2.4779999999999998em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg width="400em" height="0.522em" viewbox="0 0 400000 522" preserveaspectratio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"/></svg></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">应</span><span class="mord cjk_fallback">用</span><span class="mord cjk_fallback">编</span><span class="mord cjk_fallback">程</span><span class="mord cjk_fallback">接</span><span class="mord cjk_fallback">口</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.522em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">[</span><span class="mord cjk_fallback">应</span><span class="mord cjk_fallback">用</span><span class="mord cjk_fallback">程</span><span class="mord cjk_fallback">序</span><span class="mclose">]</span></span></span></span></span></p>
</li>
<li><strong>应用程序二进制接口</strong>(Application Binary Interface, ABI)给程序提供使用硬件资源和系统服务的接口，ABI包括所有<strong>用户指令</strong>和<strong>部分系统调用</strong>接口，应用程序和OS与硬件的交互都通过ISA接口完成，而<strong>应用程序与关键硬件资源的交互</strong>是间接的，需要OS通过系统调用方式实现。</li>
<li>与ABI不同，<strong>应用程序接口</strong>(Application Programming Interface, API)通常由某种高层次语言定义，其关键元素是一个能够由应用程序调用来触发多种服务的系统标准库。一般来说，API的功能往往涉及一个或多个ABI层面的OS调用。</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img13.png" alt="alt text"></li>
<li><strong>从不同角度看机器</strong>
<ul>
<li>从ISA角度看，机器可以指代整个计算机硬件架构和设备。</li>
<li>从ABI接口层面看，机器可以指代整个硬件设备连同其上的OS。</li>
<li>从API角度看，一个完整的机器还包括了关键的库函数。</li>
</ul>
</li>
</ul>
</li>
<li>运行模式
<ul>
<li>各类接口的引入对于保护多用户多程序并发运行是有极大好处的，各类应用对资源的访问是间接的，需要通过OS并借助系统调用来完成，为实现这一过程，大部分系统支持至少两种操作模式：Kernel Mode &amp; User Mode。与之对应，ISA被设计为两大类： User ISA &amp; System ISA。（User ISA：指对于应用程序完全可见的指令子集。System ISA：仅为具有较高监控权限的系统（如OS）可见。）</li>
</ul>
</li>
<li>虚拟机的分类
<ul>
<li>从某一接口出发，通过为底层机器配置一个耦合的软件而形成的、具有新的虚拟接口的系统，就是一个虚拟机。</li>
<li>在这个虚拟机之上，原始上层软件可以无缝的运行。</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img14.png" alt="alt text"></li>
<li><strong>进程级虚拟机</strong>(Process VM)：是基于OS的VM，是应用程序二进制接口ABI层面设立的虚拟机，虚拟化软件需要为用户程序模拟所需要的主机硬件功能。</li>
<li><strong>系统级虚拟机</strong>(System VM)：是基于硬件的VM，是ISA层面设立的虚拟机，虚拟化软件设置在硬件设备和软件系统之间。</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img15.png" alt="alt text"></li>
</ul>
</li>
</ul>
<p>Xen虚拟机技术</p>
<ul>
<li><strong>Xen基本组件</strong>
<ul>
<li><strong>Xen Hypervisor</strong>
<ul>
<li>Xen虚拟机技术创造了一个<strong>基于原生态硬件的Hypervisor</strong>，它把虚拟化软件直接安装在不加任何修饰的服务器<strong>原生态硬件</strong>上。</li>
</ul>
</li>
<li><strong>Domain0</strong>
<ul>
<li>对Xen来说，Hypervisor上一般运行多个客户作业系统，有个特殊的虚拟机会成为管理其它客户作业系统的<strong>高权限管理VM</strong>，Xen称它为<strong>Domain0</strong>。</li>
<li>Domain0能够和Hypervisor交互，其上一般安装用于操纵底层硬件的驱动软件，可以<strong>启动或者停止虚拟机</strong>。</li>
</ul>
</li>
<li><strong>DomainU</strong>
<ul>
<li>与Domain0相对应，其他客户使用的是在该管理VM旁运行的客户VM，称为<strong>DomainU</strong>。</li>
<li>这种对虚拟机功能的划分也应用在Microsoft的<strong>Hyper-V</strong>虚拟化技术中，管理VM的一般称为<strong>Parent Partition</strong>，而客户VM一般称为<strong>Child Partition</strong>。</li>
</ul>
</li>
</ul>
</li>
<li>Para-Virtualization技术
<ul>
<li><strong>全虚拟化</strong>(Full Virtualization)能够提供很好的隔绝和安全保护，以及更好的移动性，不需要硬件或OS的支持来虚拟化敏感或者特权指令。VMware的虚拟化产品和Microsoft的Virtual Server是全虚拟化的代表。</li>
<li>为减轻虚拟化的复杂度，Xen采用了<strong>Para-Virtualization方法</strong>，该方法并不会让客户OS认为自己运行在真实独立的硬件资源上，而是要求对客户OS进行改进，使它们了解自己运行在虚拟环境下，从而采取不同的接口调用方式，因此适合于开源OS。</li>
<li>Para-Virtualization在Hypervisor里<strong>不对设备驱动器进行仿真</strong>，仅对CPU和内存做虚拟，所以又称<strong>半虚拟化</strong>或<strong>准虚拟化</strong>。</li>
<li>Para-Virtualization的<strong>代表性应用</strong>包括Xen和Microsoft的Hyper-V。</li>
<li>除了OS协助的虚拟化外，还可以采用<strong>硬件协助的虚拟化技术</strong>(Hardware-Assisted-Virtualization)来实现“低特权态下发出的敏感指令”的处理，该技术以Intel VT-x与AMD-V为代表。</li>
<li>若不考虑半虚拟化与全虚拟化在IO设备处理上的不同，<strong>硬件协助的虚拟化技术事实上已经消除了半虚拟化与全虚拟化之间的差别</strong>。</li>
</ul>
</li>
<li><strong>Xen调度器</strong>
<ul>
<li>每个Domain可以拥有一个或以上的<strong>虚拟CPU</strong>(vCPU)，如果没有特别指定，Xen尽可能的把vCPU<strong>均匀地分布</strong>在物理CPU上。</li>
<li>用户可以控制Domain拥有的vCPU数，或将vCPU对应到<strong>物理CPU</strong>(PCPU)上面</li>
<li><strong>尽量保证公平的分配</strong>，并<strong>尽可能避免CPU时钟的浪费</strong>，Domain0也受其制约。</li>
<li>资源足够时
<ul>
<li>如果目前有更多的CPU资源，所有DomainU都能获得所需的资源</li>
</ul>
</li>
<li>资源不足时调度器决定各个vCPU获得的CPU份额
<ul>
<li>Xen调度器给每个Domain分配一个<strong>权重</strong>(Weight)，比如权重200的Domain可以获得两倍于权重100的Domain的CPU份额。</li>
<li>Xen调度器还给Domain施加了一个<strong>封顶阈值</strong>(Cap)，即可以使用的最高绝对份额，用百分比表示。</li>
<li>vCPU运行时<strong>消耗Credit</strong>，当一个vCPU用光了自身的Credit，那么只有在比它优先级更高的vCPU运行结束后才能使用物理处理器。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>KVM虚拟机技术</strong></p>
<ul>
<li>KVM是Kernel-based Virtual Machine的简称，是基于虚拟化扩展(Intel VT或AMD-V)的x86硬件的开源虚拟化解决方案。</li>
<li>在KVM中，虚拟机表现为<strong>常规的Linux进程</strong>，虚拟机的每一个vCPU都被实现为一个Linux进程，使用Linux自身的调度器进行管理。</li>
<li>一般来说，Linux的进程包括两种执行模式：<strong>内核态和用户态</strong>。用户态是应用程序运行的常见默认模式，当需要特权服务时（如硬盘写入）则进入内核态。</li>
<li>客户机是作为一个<strong>用户态</strong>进程存在的，这个进程称为QEMU，每个客户机有自身的用户模式和内核模式。</li>
</ul>
<p>其它资源虚拟化技术 <code>了解</code></p>
<ul>
<li>I/O虚拟化
<ul>
<li>处理器是通过I/O设备来访问外设资源的，I/O设备的相关虚拟化称为I/O虚拟化</li>
<li>I/O虚拟化包括虚拟的芯片组、虚拟的PCI总线、虚拟的系统设备、虚拟的基本I/O设备（如网卡硬盘等）。</li>
<li>I/O虚拟化主要通过VMM截获客户OS对设备的访问请求，然后以软件模拟的方式实现真实设备的效果。主要过程包括三个方面：设备发现、访问截获、设备模拟。</li>
<li>设备发现：可以帮助客户OS识别虚拟化设备，从而加载相关驱动程序，客户OS中的驱动会按照接口定义访问这个虚拟设备。</li>
<li>访问截获：I/O设备的访问本身是特权指令，处于低特权的客户机访问端口I/O会抛出异常，从而陷入到VMM中，交给设备模拟器进行模拟。</li>
<li>一些I/O虚拟化的例子包括VLAN、VT-d（Intel为I/O直接访问设计的虚拟化技术）等。</li>
</ul>
</li>
<li>GPU虚拟化
<ul>
<li>通用的GPU虚拟化技术目前有不同的实施方法，如显卡直通(GPU pass-through)和显卡虚拟化(Shared vGPU)。</li>
<li>显卡直通：绕过虚拟机管理系统，为每个虚拟机分配专用的GPU设备，只有该虚拟机拥有使用GPU的权限。
<ul>
<li>优点：虚拟机独占设备保留了GPU的完整性和独立性，在性能方面与非虚拟化条件下接近，且可以用来进行通用计算。</li>
<li>缺点：不支持实时迁移等虚拟机高级特性，虚拟机整合率取决于物理GPU的数目。</li>
</ul>
</li>
<li>显卡虚拟化：将GPU资源进行细粒度切分，并将这些资源时间片段分配给不同的虚拟机使用，这其实是采用了半虚拟化I/O的方法，通过vGPU管理模块分时共享一个物理GPU。
<ul>
<li>优点：使用灵活，虚拟机整合率高。</li>
<li>缺点：性能不如显卡直通技术。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>虚拟机热迁移<code>了解</code></p>
<ul>
<li>虚拟机热迁移(Live Migration)：又叫动态迁移或实时迁移，通常是将整个虚拟机的运行状态完全保存下来，同时可以快速恢复到原有硬件平台甚至是不同硬件平台上。</li>
<li>这种方式能极大降低服务宕机时间和整体迁移时间，服务恢复以后，虚拟机仍旧平滑运行，用户不会察觉到任何差异。</li>
<li>虚拟机迁移的三个步骤：
<ul>
<li>传输虚拟机的基本配置和设备信息。</li>
<li>传输虚拟机内存和关键状态。</li>
<li>恢复目标虚拟机运行。</li>
</ul>
</li>
<li>一般来说，传输时间和虚拟机的工作内存大小成正比，传输过程中原系统服务有可能出现短暂停机。</li>
<li>虚拟机迁移的<strong>主要方式</strong>
<ul>
<li>预拷贝(Pre-Copy)：需要经过初始复制、迭代复制、停机复制三个过程。
<ul>
<li>初始复制：将虚拟机全部内存页面复制到目标主机。</li>
<li>迭代复制：针对上一轮过程中源虚拟机被修改的内存文件进行复制。</li>
<li>停机复制：将虚拟机剩余的少量没有同步内存页面和信息复制到目标主机。</li>
<li>理想的Pre-Copy性能应该等同于内存没有被改写的停机拷贝(Stop-and-Copy)。</li>
<li>最糟糕的情况下，可能存在较长时间的内存脏页面的迭代传送过程，引起极大的系统开销。</li>
</ul>
</li>
<li>后拷贝(Post-Copy)：
<ul>
<li>源主机先传输包括处理器状态在内的、能够在目标主机上运行的最小数据集。</li>
<li>然后停止源虚拟机的运行，目的主机借助最小数据集恢复虚拟主机运行。</li>
<li>最后通过网络从源虚拟主机获取内存页面。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>检查点和热备份<code>了解</code></p>
<ul>
<li>作为虚拟化的一个重要机制，检查点可以对虚拟机进行系统级的状态保存。该机制提供了将虚拟机恢复到过去状态的快速而简单的方法，并确保恢复后的虚拟机可以继续运行。</li>
<li>可以通过周期性的制造检查点来捕获虚拟机信息，然后动态的把虚拟机信息复制到另一个备份主机上，即使原始物理机出现故障，系统也可以借助虚拟机检查点来恢复到最近状态。</li>
<li>需要注意的是，对于虚拟机层面的检查点设置会占用大量的检查点空间，可能达到数G字节。
<ul>
<li>这样大量的数据写入硬盘会不可避免的降低虚拟机的磁盘性能，或者造成和宿主机上共存应用对其他资源(CPU，I/O带宽等)的竞争。</li>
<li>不建议在虚拟机提供时间敏感型服务时使用检查点，也不建议在存储空间的可用性至关重要时使用检查点。</li>
</ul>
</li>
</ul>
<p>虚拟化资源整合<code>了解</code></p>
<ul>
<li>根据VMware的报告，在传统的“一虚拟机一负载”供给模式下，大多数服务器的利用率很低，这导致了虚拟机资源过度供给和资源利用率不高。
<ul>
<li>服务器整合(Server Consolidation)是借助虚拟化来实现多应用对物理服务器的共享，提升资源利用率。
<ul>
<li>每个子系统被封装在虚拟机内，并集中部署。</li>
<li>服务器整合：寻找适合的候选虚拟机，根据应用程序推断整合方案，跟踪整合后的应用程序性能，并调整资源利用方式。</li>
</ul>
</li>
<li>服务器整合比(Consolidation Ratio)指一台物理机上部署的虚拟机的数量（2010年 一般10：1。理想18：1）</li>
<li>整合比不是越高越好，把过量的虚拟机安置在资源有限的物理机上，会导致系统性能的极大下降，增加运维难度，还会增大能源消耗。</li>
</ul>
</li>
</ul>
<p>虚拟机蔓延管控</p>
<ul>
<li>随着虚拟机数量飞速增长，<strong>回收虚拟化的计算资源</strong>或<strong>清理非正常虚拟机</strong>的工作变得越来越困难，这种不受控制的虚拟机繁殖被称为<strong>虚拟机蔓延</strong>(VM Sprawl)。</li>
<li>虚拟机蔓延的表现形式：
<ul>
<li><strong>虚胖虚拟机</strong>：虚拟机被过度配置，如规划了过高的CPU、内存和存储容量等。</li>
<li><strong>幽灵虚拟机</strong>：虚拟机的创建没有经过符合规程的审核和验证，造成不必要的系统配置，或者由于业务需求需要保留一定数量的冗余虚拟机。这些虚拟机弃用后，导致人们不知道这些虚拟机创建的原因，不敢删除回收，任其消耗资源。</li>
<li><strong>僵尸虚拟机文件</strong>：许多虚拟机虽然被停机了，但由于生命周期管理流程的缺陷，相关虚拟机镜像文件依然保留在硬盘上。有时出于可靠性的考虑，文件可能还存在许多副本，这些僵尸资源占据着大量服务器存储资源。</li>
</ul>
</li>
<li>解决虚拟机蔓延的关键在于优化对虚拟机全生命周期的管控，可概括为3R：
<ul>
<li><strong>降低</strong>(Reduce)：减少不必要的虚拟机供给，包括减少缺乏认证的过度供给的虚拟机资源，降低虚拟机资源的浪费，这能够极大的提升投资回报率。</li>
<li><strong>重用</strong>(Reuse)：意味着不止一次的使用虚拟机资源，无论每次使用是否做同样的工作。对于虚拟化基础设施来说，资源的重用能极大提升利用率。</li>
<li><strong>回收</strong>(Recycle)：回收过程包括收集、处理、重生产和重使用。对于回收过程来说，如何准确的确定不再活跃的虚拟机是个非常有挑战的问题。</li>
</ul>
</li>
</ul>
<p>弹性伸缩</p>
<ul>
<li>弹性伸缩(Elastic Compute Cloud, EC2)是云计算平台的一个关键特性，指根据用户的业务需求和发展策略，系统能自动调整其所需的计算资源的能力。</li>
<li>有了弹性伸缩技术，用户可以在业务需求高峰时无缝的增加ECS(Elastic Compute Service)实例，并在业务需求下降时自动减少ECS实例以节约成本
<ul>
<li>利用垂直扩展，可以实时升级CPU和内存，实时升级带宽。</li>
<li>利用水平扩展，可以实时创建新的实例，完成任务后，可以立刻销毁这些实例</li>
</ul>
</li>
</ul>
<h1 id="七-虚拟化-kvm-重点">七、虚拟化-KVM <code>重点</code></h1>
<p>KVM虚拟化技术产生的背景：为了解决QEMU功能强大，兼容性高但性能较差以及Xen性能高但兼容性较差的问题，实现一种性能好，兼容性也好的虚拟化技术。<br>
KVM优缺点：</p>
<ul>
<li>优点：
<ul>
<li>官方支持：广泛支持主要的Linux发行版，如RHEL, CentOS, Fedora, Debian和Ubuntu</li>
<li>轻量且高效：作为Linux内核的一部分，无需额外的虚拟化层</li>
<li>libvirt支持：通过libvirt提供强大的管理能力和工具生态系统</li>
<li>Linux集成：与Linux内核紧密集成，提供自动化安装和配置</li>
</ul>
</li>
<li>面临的挑战：
<ul>
<li>成熟度：作为一个较新的技术，相比其他虚拟化技术，KVM在某些地方可能还不够成熟</li>
<li>宿主系统限制：主要在Linux宿主上运行</li>
<li>图形界面工具：图形用户界面（GUI）工具相比其他虚拟化方案还在持续发展中</li>
</ul>
</li>
</ul>
<p>KVM特征：</p>
<ul>
<li>客户机操作系统兼容性：Windows、Linux、BSD、Solaris、macOS…</li>
<li>硬件兼容性:任何具备AMD-V或Intel VT-x技术的i386/x86_64架构CPU。近几年出售的几乎所有服务器CPU都兼容。</li>
<li>内核模块
<ul>
<li>kvm.ko是KVM的核心公共模块</li>
<li>kvm-intel.ko是针对Intel平台架构的独立模块</li>
<li>kvm-amd.ko是针对AMD平台架构的独立模块</li>
</ul>
</li>
<li>QEMU-KVM设备模拟模块
<ul>
<li>实现IO虚拟化与各设备模拟（磁盘、网卡、显卡、声卡等），通过IOCTL系统调用与KVM内核交互。</li>
</ul>
</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img16.png" alt="alt text"></li>
</ul>
<p>KVM的虚拟化管理工具</p>
<ul>
<li>认识Libvirt：KVM的管理引擎
<ul>
<li>Libvirt是一个开源API库，用于管理各种虚拟化解决方案。</li>
<li>提供了统一的管理界面，使得用户可以不依赖底层技术进行虚拟机管理。</li>
<li>包括一个守护进程（libvirtd）</li>
<li>支持多种虚拟化技术，包括KVM、Xen、QEMU、OpenVZ等。</li>
</ul>
</li>
<li>Libvirt的主要功能
<ul>
<li>创建、修改、监控和控制虚拟机和虚拟化环境。</li>
<li>管理网络和存储资源。</li>
<li>支持迁移虚拟机以及保存和恢复虚拟机状态。</li>
</ul>
</li>
<li>Libvirt的优势
<ul>
<li>抽象化虚拟化细节，提供简化的虚拟化管理。</li>
<li>强大的命令行界面（virsh）和图形用户界面工具，如Virt-Manager。</li>
<li>可以通过多种编程语言的API进行扩展和集成。</li>
</ul>
</li>
</ul>
<p>KVM实践</p>
<ul>
<li>安装Guest OS <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virt-install --virt-type kvm --os-type=linux --os-variant rhel7 --name vm01-host01 --memory 1024 --vcpus 1 --disk /opt/vm01-host01.raw, format=raw,size=10 --cdrom /opt/CentOS-7-x86_64-Minimal-2207-02 --network network=default --graphics vnc,listen=0.0.0.0 --noautoconsole</span><br></pre></td></tr></table></figure>
</li>
<li><strong>连接客户机方式</strong> <code>了解</code>
<ul>
<li>vnc
<ul>
<li>优点：可以远程访问图形用户界面</li>
<li>缺点：每个vm需在宿主机配置端口、和宿主机终端界面分离</li>
</ul>
</li>
<li>直接使用Xshell
<ul>
<li>优点：提供加密安全性高</li>
<li>缺点：不提供图形用户界面、vm网络不佳卡顿、需vm网络配置和IP地址</li>
</ul>
</li>
<li>图形控制台：virt-manager
<ul>
<li>优点：提供图形界面、全局把控</li>
<li>缺点：宿主机需要安装X-manager、和宿主机终端界面分离</li>
</ul>
</li>
<li>串行控制台：console
<ul>
<li>优点：网络服务未启动或配置不正确也能访问、和宿主机共用界面且切换便捷</li>
<li>缺点：无图形界面</li>
</ul>
</li>
</ul>
</li>
<li>虚拟磁盘管理和快照管理 <code>了解</code>
<ul>
<li>虚拟磁盘文件作为虚拟机存储的基础。</li>
<li>磁盘管理功能包括创建、调整大小和性能优化。</li>
<li>支持多种磁盘文件格式
<ul>
<li><strong>raw格式</strong>
<ul>
<li>俗称裸格式，直接以二进制形式存储数据</li>
<li>读写性能较好，适合对性能要求较高的场景</li>
<li>占用空间较大，文件大小等于分配的总空间</li>
<li>即使只使用一小部分空间，也需要传输整个文件，示例：总50G，用1G，传输50G</li>
<li>不支持快照功能，无法进行增量备份（增量备份：优点在于没有重复的备份数据，缺点是可靠性欠缺）</li>
</ul>
</li>
<li><strong>qcow2格式</strong>
<ul>
<li>与raw格式不同，qcow2格式基于写时复制技术，只存储实际使用的数据块和元数据</li>
<li>节约空间，动态分配。</li>
<li>支持快照，易于备份和恢复。</li>
<li>方便传输，仅传输实际使用的数据量。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="八-虚拟化-docker-重点">八、虚拟化–Docker <code>重点</code></h1>
<p>问题1：隔离和轻量级之间的矛盾</p>
<ul>
<li><strong>操作系统级虚拟化</strong>(Operating System Level Virtualization)：是一种虚拟技术，能够实现多个相互<strong>隔离</strong>的实例<strong>共享一个操作系统内核</strong>。</li>
<li><strong>容器</strong>(Container)：包含相应应用程序组件的服务实例。
<ul>
<li>在一个容器中运行的程序无法看到容器外的程序进程，包括那些直接运行在宿主机(host)上的应用和其它容器中的应用。</li>
<li>如何实现容器之间的隔离和限制
<ol>
<li>Namespace：命名空间。<strong>资源的隔离</strong>
<ul>
<li>使用多个命名空间来隔离容器之间的进程、网络、文件系统等资源。每个容器都有自己的命名空间，使得不同容器之间的资源相互<strong>隔离</strong>。（不同namespace下的进程可以拥有相同的PID；可以存在嵌套关系）</li>
<li>缺点：
<ul>
<li><strong>隔离不彻底</strong>：在某些情况下，一个进程可以通过文件描述符访问另一个容器的文件系统。</li>
<li><strong>有些资源和对象不能被Namespace化</strong>，如：容器中的程序调用 settimeofday() 修改了时间，整个宿主机的时间都会被修改</li>
<li><strong>安全问题</strong>：因为共享宿主机内核，容器中的应用暴露出来的攻击面很大。</li>
</ul>
</li>
</ul>
</li>
<li>Cgroups：控制组。<strong>资源的限制</strong>
<ul>
<li>Linux内核中是为进程设置资源限制的重要手段</li>
<li>把多个进程放到组里面，对组设置资源使用的权限，实现对进程的控制。</li>
<li>具体功能
<ul>
<li>资源控制，Resource Limiting：cgroup通过进程组对资源总额进行限制。如：程序使用内存时，要为程序设定可以使用主机的多少内存，也叫作限额</li>
<li>优先级分配，Prioritization：使用硬件的权重值。如：当两个程序都需要进程读取cpu，哪个先哪个后，通过优先级来进行控制</li>
<li>资源统计，Accounting：可以统计硬件资源的用量，如：cpu、内存…使用了多长时间</li>
<li>进程控制，Control：可以对进程组实现挂起/恢复的操作</li>
</ul>
</li>
<li>子系统（可以限制哪些资源）
<ul>
<li>cpu 子系统，主要限制进程的 cpu 使用率。</li>
<li>cpuacct 子系统，可以统计 cgroups 中的进程的 cpu 使用情况。</li>
<li>cpuset 子系统，可以为 cgroups 中的进程分配单独的 cpu 核或者内存。</li>
<li>memory 子系统，可以限制进程的 memory 使用量。</li>
<li>blkio 子系统，可以限制进程对存储设备的读取。</li>
<li>devices 子系统，可以控制进程能够访问某些设备。</li>
<li>…</li>
</ul>
</li>
<li>任务(task)：进程</li>
<li>cgroup：Cgroups中的资源控制都以cgroup为单位实现的。cgroup表示按照某种资源控制标准划分而成的任务组，包含一个或多个子系统。</li>
<li>层级关系（hierarchy）：hierarchy由一系列cgroup以一个树状结构排列而成，每个hierarchy通过绑定对应的subsystem进行资源调度。目的是简化资源配置。
<ul>
<li>一群Cgroup组成的树状结构</li>
<li>每个Cgroup可以看成一个节点，子节点可以继承父节点属性</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img17.png" alt="alt text"></li>
</ul>
</li>
<li><strong>规则</strong>
<ol>
<li>同一个hierarchy能够附加一个或多个subsystem。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img18.png" alt="alt text"></li>
<li>一个subsystem只能附加到一个hierarchy上。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img19.png" alt="alt text"></li>
<li>一个task不能存在于同一个hierarchy的不同cgroup中。<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img20.png" alt="alt text"></li>
<li>任何一个task(Linux中的进程)fork自己创建一个子task(子进程)时，子task会自动的继承父task cgroup的关系<br>
<img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img21.png" alt="alt text"></li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>问题2：开发环境和部署环境不一致（环境配置麻烦，无法跨平台使用）</p>
<ul>
<li><strong>解决方案</strong>：将<strong>应用程序</strong>和<strong>所有依赖</strong>项、库、配置文件和运行时环境合二为一，打包成镜像。<br>
容器往往容纳了该程序运行所需要的全部文件，它可能包含自己的库、自己的/boot目录、/usr目录、/home目录等。然而，如果需要的话，运行中的容器甚至可能仅包含一个文件，比如运行一个不依赖任何文件的二进制程序。</li>
</ul>
<p>综上，<strong>操作系统级虚拟化</strong>很好的解决和问题1和问题2。</p>
<h2 id="docker"><strong>Docker</strong></h2>
<p>Docker是一个工具，能帮助我们快速的创建、分享和运行软件。<br>
Docker允许我们将一个软件和其依赖(运行环境)打包成一个单独的库，更利于移植可运行的软件。</p>
<ul>
<li><strong>镜像</strong>（Image）
<ul>
<li><strong>Docker镜像</strong>是一个构建容器的<strong>只读模板</strong>，提供了容器应用打包的标准格式，容器即为一个通过Docker镜像创建的运行时实例。</li>
<li>Docker 镜像包含Dockerfile、依赖、程序代码和重要配置参数（环境变量、网络配置）（尽量使用被人制作好的镜像文件，而不是从头开始制作）</li>
<li>每个Docker镜像的文件系统由一系列<strong>只读层</strong>(read-only layer)组成，只读层自底向上逐层堆叠，构成了容器所需要的基础文件系统。</li>
<li>优点：使得镜像的复用、定制变的更为容易实现。</li>
<li>镜像的ID如何生成？哈希函数(Hash)。如果两个输入串的hash函数的值一样，则称这两个串是一个<strong>碰撞</strong>(Collision)。碰撞是必然存在的。</li>
<li>Dockerfile命令
<ul>
<li>FROM：指定基础镜像</li>
<li>WORKDIR：设置工作目录</li>
<li>COPY和ADD：将本地的文件或者文件夹复制到容器指定的路径中</li>
<li>EXPOSE：声明容器运行时监听的端口</li>
<li>VOLUME：声明容器内的挂载点</li>
<li>RUN：在创建镜像时执行命令，用于安装软件包、运行脚本等操作</li>
<li>CMD和ENTRYPOINT：定义了容器启动后执行的命令或程序</li>
</ul>
</li>
</ul>
</li>
<li><strong>容器</strong>（Container）
<ul>
<li>容器是<strong>镜像运行时的实体</strong>。容器可以被创建、启动、停止、删除、暂停等。</li>
<li>当启动一个容器时，Docker会在镜像栈的顶部增加一个新的、薄的读写层，这一层即“容器层”。当前运行容器的所有操作（比如写新文件、修改现有文件、删除文件）都写到这一读写层中。当这一容器被删除时，其读写层也被删除，而底层的镜像保持原状，而重新利用该镜像创建的应用也不保留此前的更改。这种只读层结合顶部读写层的组合被称为Union File System。在这样的架构下，多个容器可以安全的共享一个底层镜像。</li>
<li><strong>数据卷</strong>：是宿主机中的一个目录或文件
<ul>
<li><strong>特性</strong>：
<ul>
<li>独立生存周期</li>
<li>实时同步：单个容器挂载多个数据卷当容器目录和数据卷目录绑定后，对方的修改会立即同步</li>
<li>多容器共享：一个数据卷可以被多个容器同时挂载</li>
<li>容器挂载多个数据卷：一个容器也可以被挂载多个数据卷</li>
</ul>
</li>
<li><strong>作用</strong>：
<ul>
<li>容器数据持久化</li>
<li>外部机器和容器间接通信</li>
<li>容器之间数据交换</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>仓库（Repository）
<ul>
<li>是集中存放镜像文件的场所</li>
<li>仓库(Repository)和仓库注册服务器（Registry）；公开仓库（Public）（DockerHub）和私有仓库（Private）</li>
</ul>
</li>
</ul>
<p>容器技术与传统虚拟机</p>
<ul>
<li>容器技术不是虚拟化的替代方案，它还不能取代传统的服务器虚拟化技术
<table>
<thead>
<tr>
<th style="text-align:center">特性</th>
<th style="text-align:center">容器</th>
<th style="text-align:center">虚拟机</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">启动</td>
<td style="text-align:center">秒级</td>
<td style="text-align:center">分钟级</td>
</tr>
<tr>
<td style="text-align:center">硬盘使用</td>
<td style="text-align:center">一般为MB</td>
<td style="text-align:center">一般为GB</td>
</tr>
<tr>
<td style="text-align:center">性能</td>
<td style="text-align:center">接近原生</td>
<td style="text-align:center">弱于</td>
</tr>
<tr>
<td style="text-align:center">系统支持量</td>
<td style="text-align:center">单机支持上千个容器</td>
<td style="text-align:center">一般几十个</td>
</tr>
</tbody>
</table>
</li>
<li>容器和虚拟机两者是可以共存的</li>
<li>容器技术
<ul>
<li>优点
<ul>
<li><strong>轻量级、易扩展</strong>：虚拟机自身是一个完备系统，拥有虚拟化的硬件和特定资源，如果每个VM有2GB容量，则10个虚拟机就需要20GB；若采用容器，因为共享其操作系统内核，因此并不会占据20GB空间。</li>
<li><strong>资源利用率高</strong>：虚拟机需要借助虚拟化软件层模拟硬件行为，而容器则直接运行在主机操作系统上。其启动时间也短。</li>
<li><strong>简化配置、提升效率</strong>：降低了硬件资源和应用环境的耦合度，并且可以给开发者提供理想的开发环境，提升开发效率。</li>
</ul>
</li>
<li>缺点
<ul>
<li><strong>安全性</strong>：容器极度依赖其主机操作系统，所以任何针对主机操作系统的攻击都会造成其安全问题。同时，主机操作系统能够看到容器中运行的一切资源。</li>
<li><strong>隔离性相比虚拟机差</strong>：如果某个应用运行时导致内核崩溃，所有的容器都会崩溃</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Docker对云的扩展<br>
Docker的轻量级特性使其成为未来云计算的重要拓展方向之一——边缘计算(Edge Computing)的重要使能技术</p>
<ul>
<li>基于地理分布的边缘设备的计算方式，需要一种灵活可扩展的平台来实现应用和服务的部署。</li>
<li>该平台应当能够部署适合小型边缘设备的轻量级可重用的服务，并且不依赖于异构硬件架构。</li>
<li>该平台还应当能够有效的与云端进行交互，从而实现分布式大数据的边缘计算和云端存储。</li>
<li>这一平台还应易于安装、配置、管理、升级、以及调试。</li>
</ul>
<h1 id="九-云安全机制">九、云安全机制</h1>
<p><strong>模运算</strong></p>
<ul>
<li>同余性质
<ol>
<li>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∣</mo><mo stretchy="false">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n\mid (a-b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≡</mo><mi>b</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>n</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">a\equiv b\pmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></li>
<li>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≡</mo><mi>b</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>n</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">a\equiv b\pmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>≡</mo><mi>a</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>n</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">b\equiv a\pmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></li>
<li>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≡</mo><mi>b</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>n</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">a\equiv b\pmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>≡</mo><mi>c</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>n</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">b\equiv c\pmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≡</mo><mi>c</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>n</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">a\equiv c\pmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></li>
</ol>
</li>
<li>模算数运算的性质
<ol>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>+</mo><mi>b</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo stretchy="false">]</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi></mrow><annotation encoding="application/x-tex">[a\bmod n+b\bmod n]\bmod n\equiv (a+b)\bmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>−</mo><mi>b</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo stretchy="false">]</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy="false">)</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi></mrow><annotation encoding="application/x-tex">[a\bmod n-b\bmod n]\bmod n\equiv (a-b)\bmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>×</mo><mi>b</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo stretchy="false">]</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mo>×</mo><mi>b</mi><mo stretchy="false">)</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi></mrow><annotation encoding="application/x-tex">[a\bmod n\times b\bmod n]\bmod n\equiv (a\times b)\bmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>b</mi></msup><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><mo>≡</mo><mo stretchy="false">(</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi><msup><mo stretchy="false">)</mo><mi>b</mi></msup><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>n</mi></mrow><annotation encoding="application/x-tex">a^b\bmod n\equiv (a\bmod n)^b\bmod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span></li>
</ol>
</li>
</ul>
<p><strong>剩余类</strong><br>
给定正整数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>，全体整数可按照模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>是否同余分为若干<strong>两两不相交</strong>的集合，使得每一个集合中的任意两个正整数对模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>一定同余，而属于<strong>不同集合</strong>的任意两个整数对模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>不同余，每一个这样的集合称为模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>的<strong>剩余类</strong>。</p>
<p><strong>欧几里得算法</strong><br>
即<strong>辗转相除法</strong>：定理：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gcd (a, b)=\gcd (b, a\bmod b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></p>
<blockquote>
<p>证明：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>可以表示成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>k</mi><mi>b</mi><mo>+</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">a=kb+r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>b</mi></mrow><annotation encoding="application/x-tex">r=a\bmod b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></p>
<ol>
<li>假设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>的一个公约数，则有：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>∣</mo><mi>a</mi><mo separator="true">,</mo><mi>d</mi><mo>∣</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">d\mid a, d\mid b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>，而 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mi>a</mi><mo>−</mo><mi>k</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">r=a-kb</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">b</span></span></span></span><br>
因此 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>∣</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">d\mid r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>，因此<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(b, a\bmod b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>的公约数</li>
<li>假设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(b,a\bmod b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>的公约数，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>∣</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">d\mid b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span> ，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>∣</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">d\mid r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> ，而<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>k</mi><mi>b</mi><mo>+</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">a=kb+r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span><br>
因此 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>∣</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">d\mid a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>，因此d也是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>的公约数</li>
</ol>
<p>因此<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(b,a\bmod b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>的公约数是一样的，其最大公约数也必然相等，得证。</p>
</blockquote>
<p><strong>扩展欧几里得算法</strong><br>
对于给定整数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span></span></span></span>，拓展的欧几里得算法不仅可以计算出最大公因子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>, 而且可以得到两个整数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x,y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>，并满足：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>=</mo><mi>d</mi><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">ax+by=d=\gcd (a, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>。如果<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a,b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span></span></span></span>互质，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>有模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>的乘法逆元：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">b^{-1}=y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span><br>
在模运算中，如果一个数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>和模数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>互质，那么<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>在模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>下存在乘法逆元，表示为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span>的逆元，记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">a^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>，满足以下条件：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>×</mo><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>≡</mo><mn>1</mn><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mi>m</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">a\times a^{-1}\equiv 1\pmod m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span><br>
计算方法：<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>exgcd</mtext><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>x</mi><mo separator="true">,</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>exgcd</mtext><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>b</mi><mo separator="true">,</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>x</mi><mo>−</mo><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">/</mi><mi>b</mi><mo stretchy="false">)</mo><mi>x</mi><mo separator="true">,</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>y</mi><mo>−</mo><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">/</mi><mi>b</mi><mo stretchy="false">)</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{exgcd}(a,b,x,y,prex,prey)=\text{exgcd}(b,a\bmod b,prex-(a/b)x,prey-(a/b)y,x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">exgcd</span></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">exgcd</span></span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a, b, x, y, prex, prey;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    x = <span class="number">0</span>, y = <span class="number">1</span>, prex = <span class="number">1</span>, prey = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (a &lt; b) <span class="built_in">swap</span>(a, b);</span><br><span class="line">    <span class="keyword">while</span> (a % b != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">int</span> new_a, new_b, new_x, new_y, new_prex, new_prey;</span><br><span class="line">        new_a = b;</span><br><span class="line">        new_b = a % b;</span><br><span class="line">        new_x = prex - (a / b) * x;</span><br><span class="line">        new_y = prey - (a / b) * y;</span><br><span class="line">        new_prex = x;</span><br><span class="line">        new_prey = y;</span><br><span class="line">        a = new_a;</span><br><span class="line">        b = new_b;</span><br><span class="line">        x = new_x;</span><br><span class="line">        y = new_y;</span><br><span class="line">        prex = new_prex;</span><br><span class="line">        prey = new_prey;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;gcd(a, b): &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;x: &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;y: &quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1759,550 ,0   ,1   ,1   ,0   </span></span><br><span class="line"><span class="comment">550 ,109 ,1   ,-3  ,0   ,1</span></span><br><span class="line"><span class="comment">109 ,5   ,-5  ,16  ,1   ,-3</span></span><br><span class="line"><span class="comment">5   ,4   ,106 ,-339,-5  ,16</span></span><br><span class="line"><span class="comment">4   ,1   ,-111,355 ,106 ,-339</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">273 ,110 ,0   ,1   ,1   ,0</span></span><br><span class="line"><span class="comment">110  53   1    -2   0    1</span></span><br><span class="line"><span class="comment">53   4    -2   5    1    -2</span></span><br><span class="line"><span class="comment">4    1    27   -67  -2   5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h2 id="密码学"><strong>密码学</strong></h2>
<p><strong>代替</strong>（Substitution）：明文中的字符被替换成密文中另一个字符<br>
<strong>置换</strong>（Permutation）：明文字母不变，但顺序被打乱<br>
<strong>扩散</strong>：将每一位明文尽可能地散布到多个输出密文中去，以更隐蔽明文数字的统计特性<br>
<strong>混淆</strong>：使密文的统计特性与明文密钥之间的关系尽量复杂化<br>
<strong>攻击的分类</strong>（以获取密钥和加解密算法为目的）</p>
<ul>
<li><strong>唯密文攻击</strong>（Cipher-only attack）: 攻击者有一个或多个密文，攻击需要<strong>统计分析</strong></li>
<li><strong>已知明文攻击</strong>（Known-plaintext attack）: 攻击者有一份密文和对应的明文，进行算法和密钥推导</li>
<li><strong>选择明文攻击</strong>（Chosen-plaintext attack）: 攻击者有机会使用<strong>加密机</strong>，因此可以<strong>选择任何明文并产生对应的密文</strong>，攻击概率更大</li>
<li><strong>选择密文攻击</strong>（Chosen-cipher attack）: 攻击者有机会使用<strong>解密机</strong>，因此可以选择一些密文并产生对应的明文<br>
攻击难度<strong>由下到上逐渐增加</strong></li>
</ul>
<p>密钥长度越长，加密数据越不容易被非法解密<br>
加密：</p>
<ul>
<li>数据按照一种可读的格式进行编码，这种格式称为<strong>明文</strong>(plaintext)。</li>
<li>数据在网络上传输时，为避免未授权的恶意访问，可以使用称为<strong>加密部件</strong>(cipher)的标准化算法，通过<strong>密钥</strong>把原始的明文数据转换为<strong>密文</strong>(ciphertext)，这个过程称为<strong>加密</strong>(encryption)。从密文恢复出明文的过程称为解密(Decryption)</li>
<li>加密机制可以对抗<strong>流量窃听</strong>、<strong>恶意媒介</strong>、<strong>授权不足</strong>和<strong>信任边界重叠</strong>。</li>
</ul>
<p><strong>对称加密</strong>：<strong>加密与解密时使用同一个密钥</strong>，这两个过程都是授权的各方用共享的密钥执行的。</p>
<ul>
<li>由于用一个密钥加密的消息只能用同一个密钥解密，因此拥有密钥的被授权方才能创建消息，因此保证了数据的<strong>保密性</strong>。</li>
<li><strong>对称加密不具备不可否认性</strong>，当有多方使用同一个密钥时，无法判断是哪一方执行的加密和解密。</li>
<li>优点：算法公开、计算量小、加密速度快、加密效率高。</li>
<li>缺点：事先协商密钥；多用户时密钥量巨大</li>
</ul>
<p><strong>移位加密（凯撒加密）</strong><br>
加密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>k</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">y=x+k\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span><br>
解密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>y</mi><mo>−</mo><mi>k</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">x=y-k\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span><br>
如何攻击？</p>
<ul>
<li>已知明文攻击：x,y都已知，那么<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mi>y</mi><mo>−</mo><mi>x</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">k=y-x\pmod {26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span></li>
<li>选择明文攻击：能够自己选择x。比如选择 x=‘a’=0 ，则为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>k</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">y=k\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span></li>
<li>选择密文攻击：自己选择密文y。例如选择 y=‘a’=0，那么<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo>−</mo><mi>k</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">x=-k\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span></li>
</ul>
<p>破解：</p>
<ul>
<li>暴力穷举（26种可能）</li>
<li>词频统计
<ol>
<li>统计密文中字母出现的频率</li>
<li>与标准的语言字母出现的频率进行比对</li>
<li>确定密钥k的最可能值</li>
</ol>
</li>
</ul>
<p><strong>仿射加密</strong><br>
加密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>α</mi><mi>x</mi><mo>+</mo><mi>β</mi><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">y=\alpha x+\beta\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span><br>
解密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><msup><mi>α</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mi>β</mi><mo stretchy="false">)</mo><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>其中</mtext><msup><mi>α</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mtext>是满足</mtext><mi>α</mi><mi>γ</mi><mo>≡</mo><mn>1</mn><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo><mtext>的</mtext><mi>γ</mi><mtext>的值</mtext></mspace></mspace></mspace></mspace></mrow><annotation encoding="application/x-tex">x=\alpha^{-1}(y-\beta)\pmod{26}, 其中\alpha^{-1}是满足\alpha\gamma\equiv 1\pmod{26}的\gamma的值</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">其</span><span class="mord cjk_fallback">中</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">满</span><span class="mord cjk_fallback">足</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span><span class="mord cjk_fallback">的</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">值</span></span></span></span><br>
破解：</p>
<ul>
<li>暴力穷举（312种可能，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>相对26存在逆元，那么<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>小于26且与26互质，只有12种可能，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span>有26种可能，12*26=312）</li>
<li>词频统计
<ol>
<li>统计密文中字母出现的频率</li>
<li>与标准的语言字母出现的频率进行比对，找到两个密文-明文映射</li>
<li>确定映射关系（线性方程组，枚举<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>求解）</li>
</ol>
</li>
</ul>
<p><strong>维吉尼亚密码</strong><br>
将明文<strong>按照密钥长度分组</strong>，用密钥对<strong>每个组内</strong>字母进行移位加密。<br>
维吉尼亚密码实际上是移位密码的一种扩展；能够<strong>消除字母的频率特征</strong><br>
加密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub><mo>=</mo><msub><mi>P</mi><mi>i</mi></msub><mo>+</mo><msub><mi>K</mi><mi>i</mi></msub><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">C_i=P_i+K_i\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span><br>
解密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo>−</mo><msub><mi>K</mi><mi>i</mi></msub><mspace></mspace><mspace width="0.4444444444444444em"><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333333333333333em"><mn>26</mn><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">P_i=C_i-K_i\pmod{26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444444444444444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.3333333333333333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mclose">)</span></span></span></span><br>
破解：</p>
<ol>
<li>确定密钥长度
<ul>
<li>Kasiski实验
<ul>
<li>利用英文单词的规律，统计<strong>重复子串的间隔</strong>，间隔的公因数都可能是密钥长度</li>
</ul>
</li>
<li>Friedman测试
<ul>
<li>枚举可能的密钥长度，根据密钥长度将同一密钥字符加密的密文分为一组，计算每组的<strong>重合指数</strong>，越接近原文语言的重合指数的密钥长度越可能是真实密钥长度。</li>
<li>IC, index of coincidence 重合指数
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>IC</mtext><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo>…</mo><mo>…</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi>Z</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><mn>0.065</mn></mrow><annotation encoding="application/x-tex">\text{IC}=P(A)^2 + P(B)^2+……+P(Z)^2 = 0.065</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord">IC</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">6</span><span class="mord">5</span></span></span></span></li>
<li>P(i)由字母频率分析得到</li>
<li>利用重合指数推测密钥长度的原理在于，对于一个由移位加密的序列，由<strong>于所有字母的位移程度相同，所以密文的重合指数应等于原文语言的重合指数。</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>确定密钥
<ul>
<li>词频统计</li>
</ul>
</li>
</ol>
<p>一次性密码本<br>
双方共同维护一个本子，使用<strong>和明文长度相等</strong>的密钥进行加密。每次加密完，换新的密钥。密钥的生成是完全随机的。一次性密码本是一种<strong>理论上绝对安全</strong>的加密方式</p>
<p><strong>DES</strong></p>
<ul>
<li>DES（Data Encryption Standard）是一种使用56位密钥对64位长分组进行加密的密码，是一种迭代算法、对称加密算法。DES是第一个公开的分组加密算法。</li>
<li>特点：
<ul>
<li>对称加密算法：同一个密钥用于加密和解密，密钥必须保密。</li>
<li>块加密：对固定大小（64位）的数据块进行加密，每个数据块独立处理。</li>
<li>Feistel结构：DES由16轮相似的操作组成，每轮使用一个子密钥进行替换和置换操作。</li>
<li>56位密钥：实际使用的密钥长度为56位，尽管输入的密钥长度为64位（其中8位用于校验）</li>
</ul>
</li>
<li><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img22.png" alt="alt text"></li>
<li>安全性
<ul>
<li>密钥长度：由于密钥长度较短，容易被暴力破解。1997年，DES的密钥首次被公开破解。</li>
<li>其它攻击方法：差分密码分析、线性密码分析等方法可以有效攻击DES。</li>
<li>替代方案：为了增强安全性，Triple DES（3DES）应运而生，使用三个DES操作（加密-解密-加密）来增加密钥长度和复杂性。</li>
</ul>
</li>
</ul>
<p><strong>3DES</strong><br>
3DES(Triple DES)：由三个连续的DES加密组成，也称之为三重DES。<br>
三个密码组件既可以是一个加密函数又可以是一个解密函数。<br>
加密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>E</mi><msub><mi>k</mi><mn>1</mn></msub></msub><mo stretchy="false">[</mo><msub><mi>D</mi><msub><mi>k</mi><mn>2</mn></msub></msub><mo stretchy="false">[</mo><msub><mi>E</mi><msub><mi>k</mi><mn>3</mn></msub></msub><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">y=E_{k_1}[D_{k_2}[E_{k_3}[x]]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mclose">]</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span><br>
解密：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>D</mi><msub><mi>k</mi><mn>3</mn></msub></msub><mo stretchy="false">[</mo><msub><mi>E</mi><msub><mi>k</mi><mn>2</mn></msub></msub><mo stretchy="false">[</mo><msub><mi>D</mi><msub><mi>k</mi><mn>1</mn></msub></msub><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">x=D_{k_3}[E_{k_2}[D_{k_1}[y]]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span><br>
当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub><mo>=</mo><msub><mi>k</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">k_1= k_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>时，则成为双密钥三重DES<br>
若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub><mtext>、</mtext><msub><mi>k</mi><mn>2</mn></msub><mtext>、</mtext><msub><mi>k</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">k_1 、k_2、 k_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>互不相等，密钥长度56*3=168，安全性非常高<br>
优点：</p>
<ul>
<li>密钥长度增加到112位或168位，克服了DES面临的穷举攻击。</li>
<li>相对于DES，增强了抗差分分析和线性分析等的能力。</li>
<li>由于DES已经大规模使用，升级到3DES比更新新算法成本小得多。</li>
<li>DES比其他任何加密算法收到的分析时间都长得多，相应地，3DES的抗分析能力更强。</li>
</ul>
<p>不足：</p>
<ul>
<li>3DES处理速度较慢。</li>
<li>虽然密钥长度增加了，但明文分组的长度没变，与密钥长度的增长不匹配。</li>
</ul>
<p><strong>AES</strong><br>
高级加密标准（Advanced Encryption Standard, AES）也是一种对称加密算法，是公开的分组加密算法。明文分组为128位、支持3种密钥长度（128、192、256）且软硬件实现都很高效。</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">AES-128</th>
<th style="text-align:center">AES-192</th>
<th style="text-align:center">AES-256</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">密钥长度</td>
<td style="text-align:center">128</td>
<td style="text-align:center">192</td>
<td style="text-align:center">256</td>
</tr>
<tr>
<td style="text-align:center">迭代轮数</td>
<td style="text-align:center">10</td>
<td style="text-align:center">12</td>
<td style="text-align:center">14</td>
</tr>
</tbody>
</table>
<p>破解：</p>
<ul>
<li>差分密码分析：攻击者通过分析输入和输出差分来推测密钥。</li>
<li>线性密码分析：利用线性逼近的方法对密钥进行推测。</li>
</ul>
<p><strong>对称密钥体制缺陷</strong><br>
对称密码体制(例如DES, AES) 需要两个用户利用提前共享的秘钥来建立“<strong>安全信道</strong>” ，然而通信双方<strong>共享秘钥并不容易</strong>。且无法保证可追溯性（accountability）。</p>
<p><strong>公钥密码概念</strong><br>
<strong>公钥</strong>可以公开分发，任何人都可以使用公钥加密消息。<br>
<strong>私钥</strong>必须保密，仅持有私钥的一方可以解密消息或生成签名。<br>
应用：<br>
<strong>加密</strong>：使用接收方的公钥加密消息，只有接收方能用其私钥解密。<br>
<strong>解密</strong>：接收方用私钥解密加密的消息。<br>
<strong>签名</strong>：发送方用自己的私钥对消息进行签名，生成数字签名。<br>
<strong>验证</strong>：接收方用发送方的公钥验证签名，确认消息的真实性和完整性。<br>
密钥交换：通信双方交换会话密钥。</p>
<p><strong>RSA</strong><br>
基于大整数因子分解的数学难题，广泛应用于安全通信和数字签名。使用过程包括密钥生成、加密、解密。<br>
数学基础：欧拉定理</p>
<ul>
<li><strong>剩余类互质定义</strong>：在模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>的一个剩余类当中，如果有一个数与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>互质，则该剩余类中所有的数均与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>互质，这时称该剩余类与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>互质。</li>
<li><strong>欧拉函数定义</strong>：与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>互质的剩余类的个数称为欧拉函数，记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>。<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>等于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">Z_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>当中与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>互质的数的个数。对于任意一个质数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mtext>−</mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">\phi(m)=m−1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mord">−</span><span class="mord">1</span></span></span></span></li>
<li><strong>欧拉定理</strong>：设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>是正整数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>∈</mo><msub><mi>Z</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">r\isin Z_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>r</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\gcd(r, m)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>r</mi><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow></msup><mo>≡</mo><mn>1</mn><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext> </mtext><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r^{\phi(m)}\equiv 1(mod m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">ϕ</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">m</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord"> </span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></li>
<li><strong>费马小定理</strong>：如果<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>也是质数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>∈</mo><msub><mi>Z</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">r\isin Z_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，且<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>r</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\gcd(r, m)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>r</mi><mrow><mi>m</mi><mtext>−</mtext><mn>1</mn></mrow></msup><mo>≡</mo><mn>1</mn><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext> </mtext><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r^{m−1}\equiv 1(mod m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord"> </span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></li>
<li>特例：如果<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>可以分解成两个质数相乘，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>p</mi><mn>1</mn><mo>×</mo><mi>p</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">m=p1\times p2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord">2</span></span></span></span>, 则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mi>p</mi><mn>1</mn><mo>×</mo><mi>p</mi><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mi>p</mi><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mi>p</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(m)=\phi(p1\times p2)=\phi(p1)\times\phi(p2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></li>
</ul>
<p><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img23.png" alt="alt text"><br>
<strong>安全性</strong>：对于攻击者来说，已知e、n，如果无法求出d就是安全的。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>=</mo><msup><mi>e</mi><mrow><mtext>−</mtext><mn>1</mn></mrow></msup><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>ϕ</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d=e^{−1} \bmod\phi(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">ϕ</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。<strong>问题本质</strong>：已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>p</mi><mi>q</mi></mrow><annotation encoding="application/x-tex">n=pq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span></span>。即数的<strong>质分解问题</strong>。一般情况下，破解RSA密钥成为计算上的不可解问题。<br>
优点：密钥空间大<br>
缺点：</p>
<ul>
<li>产生密钥很麻烦，受到素数产生技术的影响，因此很难做到一次一密。</li>
<li>分组长度太长。</li>
<li>速度太慢，RSA最快的情况也比DES慢100倍。</li>
</ul>
<p>ECC（椭圆曲线密码学）<code>了解</code></p>
<ul>
<li>基本原理：基于椭圆曲线离散对数问题</li>
<li>安全性：提供相同安全性的前提下，使用较短的密钥长度</li>
<li>例如：ECC的160位密钥提供的安全性相当于RSA的1024位密钥。</li>
<li>过程：密钥生成、加密、解密、签名、验证</li>
<li>应用：移动设备、智能卡、SSL/TLS等领域</li>
</ul>
<p>哈希函数<br>
哈希函数需满足的特性：</p>
<ul>
<li>输入长度可变：对任何长度的输入x都适用</li>
<li>输出长度固定：对任何长度的输入x，输出z都是固定长度</li>
<li>效率：计算复杂度低</li>
<li>抗原像攻击（单向性）：对于给定输出y，不可能找到对应的输入x</li>
<li>抗第二原像攻击（抗弱碰撞性）：对于给定的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，找到满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(x_1)=h(x_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是不可能的</li>
<li>抗碰撞攻击（抗强碰撞性）：找到满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(x_1)=h(x_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的偶对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_1=x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是不可行的。</li>
</ul>
<p>应用：</p>
<ol>
<li>数据完整性检验</li>
<li>用于数字签名</li>
<li>密钥推导</li>
<li>密码存储</li>
</ol>
<p><strong>数字签名</strong><br>
数字签名是一种通过身份验证和不可否认性来提供数据真实性和完整性的手段。（发送消息时，附加一个数字签名，如果消息被篡改，数字签名就会变得非法）<br>
数字签名可以通过<strong>非对称加密（用私钥加密）和哈希</strong>实现</p>
<ul>
<li>用私钥对消息哈希值进行加密，附加到消息后面。</li>
<li>接受者收到后对消息进行哈希得到一个消息摘要1，用公钥对加密后的消息哈希值进行解密得到消息摘要2，如果一致则保证了消息的完整性。</li>
</ul>
<p>数字签名方案分类</p>
<ul>
<li>利用特殊的公钥加密算法实现。
<ul>
<li>RSA数字签名算法
<ul>
<li>安全性：基于大整数因子分解问题，具有很高的安全性。</li>
</ul>
</li>
<li>ECDSA（Elliptic Curve Digital Signature Algorithm）
<ul>
<li>安全性：基于椭圆曲线离散对数问题的难解性，提供与RSA相同级别的安全性，但使用的密钥长度更短。</li>
</ul>
</li>
</ul>
</li>
<li>利用专门设计的数字签名算法实现。
<ul>
<li>DSA数字签名算法（Digital Signature Algorithm ）
<ul>
<li>安全性：基于离散对数问题的难解性，具有很高的安全性。</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">特性</th>
<th style="text-align:center">RSA</th>
<th style="text-align:center">ECDSA</th>
<th style="text-align:center">DSA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">基本概念</td>
<td style="text-align:center">基于RSA公钥加密算法的数字签名方法</td>
<td style="text-align:center">基于椭圆曲线密码学（ECC）的数字签名方法</td>
<td style="text-align:center">基于离散对数问题的数字签名算法</td>
</tr>
<tr>
<td style="text-align:center">安全性</td>
<td style="text-align:center">基于大整数因子分解问题，安全性较高</td>
<td style="text-align:center">基于椭圆曲线离散对数问题，安全性高</td>
<td style="text-align:center">基于离散对数问题，安全性较高</td>
</tr>
<tr>
<td style="text-align:center">密钥长度</td>
<td style="text-align:center">2048位及以上</td>
<td style="text-align:center">256位及以上，提供同等安全性时密钥更短</td>
<td style="text-align:center">2048位及以上</td>
</tr>
<tr>
<td style="text-align:center">签名长度</td>
<td style="text-align:center">较长（与密钥长度成正比）</td>
<td style="text-align:center">较短（相对于同等安全性的RSA）</td>
<td style="text-align:center">中等（与密钥长度成正比）</td>
</tr>
<tr>
<td style="text-align:center">签名生成速度</td>
<td style="text-align:center">较慢</td>
<td style="text-align:center">较快</td>
<td style="text-align:center">较快</td>
</tr>
<tr>
<td style="text-align:center">签名验证速度</td>
<td style="text-align:center">较慢</td>
<td style="text-align:center">较快</td>
<td style="text-align:center">较慢</td>
</tr>
<tr>
<td style="text-align:center">计算复杂度</td>
<td style="text-align:center">较高</td>
<td style="text-align:center">较低</td>
<td style="text-align:center">中等</td>
</tr>
<tr>
<td style="text-align:center">性能</td>
<td style="text-align:center">对计算资源需求较高</td>
<td style="text-align:center">高效，适合资源受限环境</td>
<td style="text-align:center">依赖高质量随机数，速度适中</td>
</tr>
<tr>
<td style="text-align:center">应用场景</td>
<td style="text-align:center">SSL/TLS证书、电子邮件签名、软件签名</td>
<td style="text-align:center">移动支付、区块链、物联网设备</td>
<td style="text-align:center">软件分发、数字证书、电子文件签名</td>
</tr>
</tbody>
</table>
<p><strong>公钥基础设施</strong><br>
管理非对称密钥颁发的常用方法是基于<strong>公钥基础设施</strong>（Public Key Infrastruction, PKI）机制的，它是由一个协议、数据格式、规则和实施组成的系统。<br>
这个系统用来把公钥与对应私钥所有者对应起来（<strong>公钥身份识别</strong>）。</p>
<ul>
<li>PKI依赖于使用数字证书。</li>
<li>数字证书是带数字签名的数据结构，它与公钥一起来验证证书所有者身份以及相关信息，例如有效期。</li>
<li>数字证书通常由第三方证书颁发机构（Certificate Authority, CA）数字签发的。</li>
</ul>
<p><img src="/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/cc_review_img24.png" alt="alt text"></p>
<h1 id="十-特殊云机制-了解">十、特殊云机制 <code>了解</code></h1>
<ul>
<li>自动伸缩监听器 （Automated scaling listener）
<ul>
<li>自动伸缩监听器 （Automated scaling listener）是一个<strong>服务代理</strong>，它监控和追踪<strong>云服务用户</strong>和<strong>云服务</strong>之间的通信，用以<strong>动态伸缩</strong>。</li>
<li>通常部署在靠近防火墙的位置，自动追踪负载状态信息；负载量可以由<strong>前端请求量</strong>，也可以由请求引发的<strong>后端处理需求量</strong>决定。</li>
<li>提供不同类型的响应：如通过预定义参数<strong>自动伸缩IT资源</strong>，或者负载超过或低于阈值时<strong>自动通知云用户</strong>。</li>
</ul>
</li>
<li><strong>负载均衡器</strong>（Load Balancer）<code>重点</code>
<ul>
<li><strong>负载均衡器</strong>（Load balancer）机制是一个<strong>运行时代理</strong>，基本思想是把<strong>负载在更多的IT资源上做负载均衡</strong>，与单一IT资源相比，提升了性能和容量。</li>
<li>基于水平拓展的思想。</li>
<li>可以负载均衡的资源或者设备有服务器、网络设备、存储设备等。</li>
<li>负载均衡器可以执行一组特殊的<strong>运行时负载分配</strong>功能，包括：
<ul>
<li>非对称分配：较大的工作负载被送到具有较强处理能力的IT资源；</li>
<li>负载优先级：根据优先等级进行调度、排队、丢弃和分配；</li>
<li>上下文感知分配： 根据请求内容的指示把请求分配到不同IT资源。</li>
</ul>
</li>
<li>负载均衡的机制：
<ul>
<li>多层网络交换机</li>
<li>专门的硬件设备</li>
<li>专门的基于软件的系统</li>
<li>服务代理</li>
</ul>
</li>
<li>负载均衡器通常位于<strong>产生负载的IT资源</strong>和<strong>负责执行负载IT资源</strong>之间的通信路径上。</li>
</ul>
</li>
<li>SLA监控器（SLA Monitor）
<ul>
<li>SLA：Service-Level Agreement，服务等级协议。</li>
<li>SLA监控器（SLA monitor）被用来专门观察云服务的运行时性能，确保他们履行SLA公布的QoS需求。</li>
<li>SLA监控器收集的数据由SLA管理系统处理并集成到SLA报告的标准中。</li>
</ul>
</li>
<li>按使用付费监控器（Pay-per-use monitor）
<ul>
<li>按使用付费监控器（Pay-per-use monitor）机制按照预先定义好的定价参数测量基于云的IT资源使用，并生成使用日志用于计算费用。
<ul>
<li>请求/响应消息数量</li>
<li>传输的数据量</li>
<li>带宽消耗</li>
</ul>
</li>
</ul>
</li>
<li>审计监控器（Audit Monitor）
<ul>
<li>审计监控器机制（Audit monitor）用来收集网络和IT资源的审计记录数据，用以满足管理需要或合同义务。</li>
</ul>
</li>
<li>故障转移系统（Failover system）
<ul>
<li>故障转移系统（Failover system）通过使用现有的集群技术提供冗余的实现来增加IT资源的可靠性和可用性。
<ul>
<li>主动-主动：IT资源的冗余实现会主动地同步服务工作负载；当发现故障时，将失效的实例从<strong>负载均衡调度器</strong>中剔除，有效的IT资源就会接管处理工作。</li>
<li>主动-被动：待机或非活跃的实现会被激活，从不可用的IT资源处接管工作。</li>
</ul>
</li>
</ul>
</li>
<li>虚拟机监控器（Hypervisor）
<ul>
<li>虚拟机监控器（Hypervisor）机制是虚拟化基础设施中最基础的部分，主要用来在物理服务器上生成虚拟服务器实例。</li>
</ul>
</li>
<li>资源集群（Resource cluster）
<ul>
<li>资源集群（Resource cluster）将多个分布的IT资源分为一组，使得他们能像同一个IT资源一样进行操作。这增强了集群化IT资源的组合计算能力、负载均衡能力和可用性。</li>
<li>从资源角度划分，常用资源集群类型包括：
<ul>
<li>服务器集群：物理或虚拟服务器组成集群。</li>
<li>数据库集群：用于改进数据的可用性，具有同步的特性，可以维持集群中各种存储设备上存储数据的一致性。</li>
<li>大数据集集群：实现了数据的分区和分布，目标数据集可以有效的划分区域，而不需要破坏数据的完整性或计算的准确性。</li>
</ul>
</li>
<li>从性能角度划分，资源集群的两个基本类型：
<ul>
<li>负载均衡的集群：这种资源集群在集群节点中分布工作负载，既提高IT资源容量又保持资源的集中管理。</li>
<li>高可用集群：在遇到多节点失效时，仍能维持系统的可用性，而且大多数或者所有集群的IT资源都有冗余实现。它实现一个故障转移系统机制，监控失效情况，并自动将工作负载重定向为远离故障节点。</li>
</ul>
</li>
</ul>
</li>
<li>多设备代理（Multi-device broker）
<ul>
<li>一个云服务可能会被大量的云用户访问，他们对主机硬件设备和通信需求都不同。为了克服云服务和不同云服务用户之间的不兼容性，需要创建映射逻辑来改变运行时交换的信息。</li>
<li>多设备代理（Multi-devise broker）来帮助运行时的<strong>数据转换</strong>，使得云服务能够被更广泛的云用户程序和设备所使用。</li>
<li>多设备代理通常作为<strong>网关</strong>存在。</li>
<li>可创建转化的逻辑层次包括：
<ul>
<li>传输协议</li>
<li>消息协议</li>
<li>存储设备协议</li>
<li>数据模式/数据模型</li>
</ul>
</li>
</ul>
</li>
<li>状态管理数据库（state management database）
<ul>
<li>状态管理数据库（State management database）：一种用来暂时地保存软件程序的<strong>状态数据</strong>。</li>
<li>软件程序可以把状态数据保存到数据库中，用以降低程序占用的运行时内存。</li>
</ul>
</li>
</ul>
<h1 id="十一-基本云架构">十一、基本云架构</h1>
<ul>
<li><strong>负载分布架构</strong><code>重点</code>
<ul>
<li>通过增加一个或多个相同的IT资源可以进行IT资源<strong>水平扩展</strong>，而提供运行中逻辑的负载均衡器能够在可用的IT资源上均匀分配工作负载。</li>
<li>在一定程度上依靠复杂的<strong>负载均衡算法</strong>和运行时逻辑，减少IT资源的过度使用和使用率不足的情况。</li>
<li>负载分布常常可以用来支持<strong>分布式虚拟服务器、云存储设备、云服务、微服务</strong></li>
<li>单机系统
<ul>
<li>所有的业务全部写在一个项目中，部署服务到一台服务器上。</li>
<li>优点：1）架构简单，易于开发和维护；2）没有网络通信的延迟</li>
<li>缺点：1）扩展性差，当访问量和数据量增加时，单机资源（CPU、内存、存储）会迅速耗尽；2）单点故障（SPOF）：如果服务器宕机，整个系统会不可用。</li>
</ul>
</li>
<li>应用、数据库分离
<ul>
<li>为了提升性能和分担负载，Web应用开始采用两层架构，将Web服务器和数据库服务器分离。</li>
<li>优点：提供性能和拓展性；增强了模块化和维护性。</li>
<li>缺点：单点故障、性能存在瓶颈。</li>
</ul>
</li>
<li>应用服务集群
<ul>
<li>增加应用层服务器，将用户流量分担到不同的应用层服务器上，来提升系统的承载能力。</li>
<li>优点：高可用、高拓展性等。</li>
<li>缺点：存储服务器单点故障、性能存在瓶颈。</li>
</ul>
</li>
<li>微服务
<ul>
<li>将应用拆分为多个独立的小服务，每个服务负责特定的功能。</li>
<li>独立开发、部署和扩展，通过轻量级的通信协议（如HTTP/REST）进行交互</li>
<li>优点：
<ul>
<li>提高了系统的灵活性和可维护性，每个服务可以独立演化。</li>
<li>技术多样性，可使用不同语言、框架、数据库进行开发</li>
<li>提供了更好的故障隔离能力，某个服务的故障不会影响整个系统。</li>
</ul>
</li>
<li>缺点：
<ul>
<li>增加了系统的复杂性，需要处理服务间的通信、数据一致性和分布式事务问题。</li>
<li>运维成本增加，需要完善的监控和管理工具。</li>
</ul>
</li>
</ul>
</li>
<li>负载均衡分类（根据网络协议的层数）
<ul>
<li>二层负载均衡
<ul>
<li>负载均衡服务器对外提供一个VIP（虚拟IP），集群中不同的机器采用相同IP地址，但机器的MAC地址不一样。当负载均衡服务器接受到请求之后，通过改写报文的目标MAC地址的方式将请求转发到目标机器实现负载均衡。</li>
<li>特点： 控制粒度比较粗；负载均衡服务器压力小；吞吐量高</li>
</ul>
</li>
<li>三层负载均衡
<ul>
<li>负载均衡服务器对外依然提供一个VIP，但集群中不同的机器采用不同的IP地址。当负载均衡服务器接受到请求之后，根据不同的负载均衡算法，通过IP将请求转发至不同的真实服务器。</li>
<li>特点： 控制粒度比较粗；请求响应经过负载均衡器服务器，其压力较大</li>
</ul>
</li>
<li>四层负载均衡
<ul>
<li>工作在OSI模型的传输层，该层协议除了包含源IP、目标IP以外，还包含源端口号及目的端口号。在三层负载均衡的基础上，用ip+port接收请求，再转发到对应的机器。</li>
<li>特点： 不理解应用层协议</li>
<li>根据请求处理的模式，负载均衡方式可以分为：
<ul>
<li>NAT
<ul>
<li>特点：请求响应经过负载均衡器服务器，其压力较大</li>
</ul>
</li>
<li>D-NAT</li>
<li>DR（Direct Routing, 直接路由模式）
<ul>
<li>特点：响应不经过负载均衡器服务器，其压力较小</li>
</ul>
</li>
<li>TUN隧道技术
<ul>
<li>特点：响应不经过负载均衡器服务器，其压力较小</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>七层负载均衡
<ul>
<li>基于应用层的负载均衡，可以根据请求的url进行转发负载，在四层负载的基础上，考虑应用层的特征。</li>
<li>特点： 更灵活，控制粒度更细。</li>
</ul>
</li>
</ul>
</li>
<li>Nginx
<ul>
<li>Nginx是一款轻量级的高性能web服务器，同时也是一款非常优秀的负载均衡器和反向代理服务器。由于它的内存占用少，启动极快，高并发能力强，在互联网项目中广泛应用。</li>
<li>正向代理（Forward Proxy）；反向代理（Reverse Proxy）</li>
</ul>
</li>
<li>负载均衡算法
<ul>
<li>负载均衡服务器在决定将请求转发到具体哪台真实服务器时，是通过负载均衡算法来实现的。</li>
<li>静态负载均衡算法
<ul>
<li>轮询法：按请求顺序轮流分配。
<ul>
<li>优点：简单高效、易拓展</li>
<li>缺点：性能受限于木桶最短木板理论</li>
</ul>
</li>
<li>随机法：将请求随机分配到各个节点。
<ul>
<li>优缺点同上</li>
</ul>
</li>
<li>源地址哈希法：根据客户端的IP地址，通过哈希函数计算得到一个数值，用该数值对服务器节点数进行取模，得到的结果便是要访问节点序号。
<ul>
<li>优点：可人为干预某客户端请求的节点。</li>
<li>缺点：无法保证高可用性，可能导致负载不均衡。</li>
</ul>
</li>
<li>加权轮询法：根据机器的配置分配不同的权重，将请求顺序且按照权重分配到后端。
<ul>
<li>优点：可以将不同机器的性能问题纳入到考量范围，集群性能最优最大化</li>
<li>缺点：无法动态调整节点权重。</li>
</ul>
</li>
<li>加权随机法：根据后端机器的配置，系统的负载分配不同的权重</li>
<li>键值范围法：根据键的范围进行负债，比如0到10万的用户请求走第一个节点服务器，10万到20万的用户请求走第二个节点服务器…
<ul>
<li>优点：容易水平拓展</li>
<li>缺点：容易负载不均、无法满足高可用性</li>
</ul>
</li>
</ul>
</li>
<li>动态负载均衡算法
<ul>
<li>最少连接数：每一台服务器的当前连接数进行统计(L4 层连接数)，当有新的请求进入时，将新的请求分配给当前最少连接处理的服务器
<ul>
<li>最小连接数为最常用的负载均衡算法之一，在后台服务器处理能力均等的情况下， 使用最小连接数可以得到最为平衡的负载均衡效果。</li>
</ul>
</li>
<li>最快响应速度：通过观察每台服务器的应用响应速度，当有新的请求进入的时候，将新的请求分配给响应最快的服务器。</li>
<li>动态观察法：连接数目和响应时间以这两项的最佳平衡为依据为新的请求选择服务器。</li>
<li>预测法</li>
</ul>
</li>
</ul>
</li>
<li>以下机制也是该云架构的一部分
<ul>
<li>审计监控器：分配运行时工作负载时，就满足法律和监管要求而言，处理数据的IT资源类型和地理位置可以决定监控是否是必要的。</li>
<li>云使用监控器：各种监控器都能参与执行运行时工作负载的跟踪与数据处理。</li>
<li>虚拟机监控器：虚拟机监控器与其托管的虚拟服务器之间的工作负载可能需要分配。</li>
<li>逻辑网络边界：逻辑网络边界用于隔离、确定如何分布、以及在哪里分布工作负载相关的云用户网络边界。</li>
<li>资源集群：支持不同集群节点间的负载均衡。</li>
<li>资源复制：生成虚拟化IT资源的新实例。</li>
</ul>
</li>
</ul>
</li>
<li>资源池架构
<ul>
<li>使用一个或多个<strong>资源池</strong>为基础，相同的IT资源由一个系统进行分组和维护，确保他们保持同步。
<ul>
<li>常见的资源池有：物理服务器池、虚拟服务器池、存储池、网络池、CPU池、内存池。</li>
</ul>
</li>
<li>资源池可以建立<strong>层次结构</strong>，形成资源池父子、兄弟和嵌套关系，从而满足不同的资源池需求。</li>
</ul>
</li>
<li>动态可扩展架构
<ul>
<li>基于一个预先定义的可扩展条件的系统，触发条件会导致从<strong>资源池动态分配IT资源</strong>。</li>
<li>动态扩展类型有
<ul>
<li>动态水平扩展：指分配和释放IT资源，其中分配资源称为向外扩展(scaling out)，释放资源称为向内扩展(scaling in)。</li>
<li>动态垂直扩展：垂直扩展(vertical scaling)：指现有IT资源被具有更大或更小容量的资源代替，分别称为向上(scaling up)扩展和向下(scaling down)扩展。</li>
<li>动态重定位：将IT资源重放置到更大容量的主机上。</li>
</ul>
</li>
</ul>
</li>
<li>弹性资源容量架构
<ul>
<li>主要<strong>与虚拟服务器的动态供给相关</strong>，该架构可以分配和回收CPU与RAM资源，从而可以立即响应服务对IT资源的需求变化。</li>
</ul>
</li>
<li>服务负载均衡架构
<ul>
<li>是<strong>工作负载分布架构的变种</strong>，是专门针对云服务实现的。在动态工作负载上增加负载均衡系统，就创建了云服务的冗余部署。</li>
<li>云服务实现的副本被组织为一个资源池，而负载均衡器则作为外部或内置组件，允许托管服务器自行平衡工作负载。</li>
</ul>
</li>
<li>云爆发架构
<ul>
<li>只要达到预先设定的容量阈值，就从企业内部的IT资源扩展或“<strong>爆发</strong>”到云中。</li>
<li>相应的云IT资源是<strong>冗余性预部署</strong>，它们会保持非活跃状态，直到发生云爆发。</li>
<li>当不再需要这些资源后，基于云的IT资源被释放，架构则“<strong>爆发入</strong>”企业内部，回到企业内部环境。</li>
</ul>
</li>
<li>弹性磁盘供给架构
<ul>
<li>一个动态存储供给系统，确保按照云用户实际使用的存储量进行精确计费</li>
</ul>
</li>
<li>冗余存储架构
<ul>
<li>引入了复制的辅云存储设备做为故障系统的一部分，它要与主运存储设备中的数据保持同步。当主设备失效时，就把请求转向辅设备。</li>
</ul>
</li>
</ul>
<h1 id="十二-高级云架构-了解">十二、高级云架构 <code>了解</code></h1>
<ul>
<li>虚拟机监控器集群架构
<ul>
<li>虚拟机监控器可以负责创建和管理多个虚拟服务器，因为这种依赖关系，任何<strong>影响虚拟机监控器失效的状况</strong>，都会波及它管理的虚拟服务器。</li>
<li><strong>虚拟机监控器集群架构</strong>(Hypervisor clustering architecture)建立了一个跨多个物理服务器的高可用虚拟机监控器集群。如果一个虚拟监控器或底层物理服务器不可用，那么被其托管的<strong>虚拟服务器</strong>可迁移到另一物理服务器</li>
<li>虚拟机监控器集群由<strong>中心VIM控制</strong>，VIM发送常规<strong>心跳</strong>消息来确认虚拟机监控器是否在运行
<ul>
<li><strong>如果心跳消息未被应答</strong>，VIM将启动VM在线迁移程序，以动态地将受影响的虚拟机监控器移动到一个新的主机上。
<ul>
<li><strong>心跳</strong>是虚拟机监控器之间、虚拟机监控器和虚拟服务器之间、虚拟机监控器和VIM之间相互交换的系统级消息</li>
</ul>
</li>
</ul>
</li>
<li>核心机制
<ul>
<li>虚拟机监控器</li>
<li>资源集群机制</li>
<li>受到集群环境保护的虚拟服务器</li>
</ul>
</li>
<li>相关机制
<ul>
<li>逻辑网络边界(logical network perimeter)：确保没有其他云用户的虚拟机监控器被意外的包含到一个给定的集群。</li>
<li>资源复制(resource replication)：同一集群中的虚拟机监控器相互告知其状态和可用性；在集群中创建或删除一个虚拟交换机之类的变化，需要通过VIM复制到所有的虚拟机监控器。</li>
</ul>
</li>
</ul>
</li>
<li>负载均衡的虚拟服务器实例架构
<ul>
<li>物理服务器的运行和管理是相互隔离的，使得在物理服务器之间保持负载均衡变得困难。</li>
<li><strong>负载均衡的虚拟服务器实例架构</strong>(load balanced virtual server instances architecture)：建立了一个<strong>容量看门狗系统</strong>(capacity watchdog system)，会动态计算虚拟服务器实例及其相关工作负载，然后再均衡的分配负载到物理服务器。</li>
<li>容量看门狗系统组成：
<ul>
<li><strong>容量看门狗监控器</strong>：追踪物理和虚拟服务器的使用，并向容量计划器报告任何明显的波动。</li>
<li><strong>容量计划器</strong>：负责动态的<strong>计算和比较</strong>物理服务器的计算能力，以及虚拟服务器的容量要求；如果容量计划器决定把一个虚拟服务器迁移到另一台主机上以分散工作负载，则发信号给VM在线迁移程序。</li>
<li><strong>VM在线迁移程序</strong>：移动虚拟服务器。</li>
</ul>
</li>
<li>相关机制
<ul>
<li>自动伸缩监听器(automated scaling listener)：可以用来启动负载均衡的过程，通过虚拟机监控器动态的监控进入每个虚拟服务器的工作负载。</li>
<li>负载均衡器(load balancer)：负责在虚拟机监控器之间分配虚拟服务器的工作负载。</li>
<li>逻辑网络边界(logical network perimeter)：确保一个虚拟服务器重新定位的目的地仍然遵守SLA和隐私规定。</li>
<li>资源复制(resource replication)：虚拟服务器实例的复制是负载均衡功能的一部分。</li>
</ul>
</li>
</ul>
</li>
<li>不中断服务重定位架构
<ul>
<li>造成云服务不可用的原因：
<ul>
<li><strong>运行时使用需求超出了它的处理能力</strong>。</li>
<li><strong>维护更新</strong>要求必须暂时中断。</li>
<li><strong>永久的迁移</strong>至新的物理服务器主机。</li>
</ul>
</li>
<li><strong>不中断服务重定位架构</strong>(non-disruptive service relocation architecture)：预先定义的事件触发云服务实现的运行时复制或迁移，从而避免中断。
<ul>
<li>通过在<strong>新主机上复制一个实现</strong>，云服务活动被暂时迁移，而不是通过冗余来实现伸缩。</li>
<li>关键在于<strong>原始的云服务实现中断前</strong>，新的云服务实现能接收响应云服务用户的请求。</li>
<li>一种常见方法是<strong>VM在线迁移</strong>，移动承载该云服务的虚拟服务器实例。</li>
</ul>
</li>
<li>根据虚拟服务器磁盘位置和配置，虚拟服务器迁移可能以如下两种方式之一发生
<ul>
<li>如果虚拟服务器的磁盘存储在一个<strong>本地存储设备</strong>，或者附加到源主机的<strong>非共享远程存储设备</strong>，那么就需要在目标主机上创建虚拟服务器磁盘副本；创建好副本后，两个虚拟服务器实例会进行同步，然后虚拟服务器的文件从源主机删除</li>
<li>如果虚拟服务器的文件存储在源和目的主机间<strong>共享的远程存储设备</strong>上，那么就不需要拷贝虚拟服务器磁盘；只需要简单的将虚拟服务器的所有权从源转移到目的服务器主机，虚拟服务器的状态就会自动同步。</li>
</ul>
</li>
<li>相关机制
<ul>
<li>云使用监控器(cloud usage monitor)：可以使用不同类型的云使用监控器持续追踪IT资源的使用情况和系统行为。</li>
<li>按使用付费监控器(pay-per-use monitor)：收集数据，由此计算源和目的位置的IT资源服务使用费。</li>
<li>资源复制(resource replication)：用来在目的端实例化云服务的卷影副本(shadow copy)。</li>
<li>SLA管理系统(SLA management system)：在云服务复制或重定位期间及之后，负责处理SLA监控器提供的SLA数据，以获得云服务的可用性保证。</li>
<li>SLA监控器(SLA monitor)：收集SLA管理系统所需的SLA信息，如果可用性保证是依赖于此架构实现的，那么SLA监控器就是必不可少的。</li>
</ul>
</li>
</ul>
</li>
<li>零宕机架构
<ul>
<li>物理服务器故障或被损害时，它承载的某些（或所有）虚拟服务器都会受到影响，这使得云提供者向云用户做出的零宕机时间的承诺变得非常困难。</li>
<li><strong>零宕机架构</strong>(zero downtime architecture)：允许虚拟机服务器原始的物理服务器失效时，动态迁移到其它物理服务器主机上。
<ul>
<li>多个物理服务器聚成一组，由容错系统控制，容错系统具有把活动从一台物理服务器切换到另一台却不引起中断的能力。</li>
</ul>
</li>
<li>相关机制
<ul>
<li>审计监控器(audit monitor)：可能需要这个机制来检查虚拟服务器的重定位是否把它所承载的数据放置到了应该禁止的位置。</li>
<li>云使用监控器(cloud usage monitor)：监控云用户对IT资源的实际使用情况，确保不超出云用户的虚拟服务器容量。</li>
<li>虚拟机监控器(hypervisor)：每个受到影响的物理服务器的虚拟机监控器承载着受到影响的虚拟服务器。</li>
<li>逻辑网络边界(logical network perimeter)：确保虚拟服务器重定位后，每个云用户都还在它自己的逻辑边界内。</li>
<li>资源集群(resource cluster)：创建不同类型的主动-主动集群组，以协同改进虚拟服务器承载的IT资源的可用性。</li>
<li>资源复制(resource replication)：在主虚拟服务器失效的时候，创建新的虚拟服务器和云服务实例。</li>
</ul>
</li>
</ul>
</li>
<li>云负载均衡架构
<ul>
<li><strong>云负载均衡架构</strong>(cloud balancing architecture)：IT资源可以在多个云之间实现负载均衡，云用户请求的跨云负载均衡可以帮助：
<ul>
<li>提高IT资源的性能和可扩展性。</li>
<li>增加IT资源的可用性和可靠性。</li>
<li>改进负载均衡和IT资源优化。</li>
</ul>
</li>
<li>相关机制
<ul>
<li>自动伸缩监听器：根据当前的扩展性和性能要求，自动伸缩监听器把云服务用户的请求重定向到几个冗余的IT资源实现中的一个。</li>
<li>故障转移系统机制：故障转移系统保证在IT资源或底层承载故障时，冗余的IT资源能够进行跨云的负载均衡。IT资源失效时会被广播，这样自动伸缩监听器可以避免把云服务的用户请求路由到不可用或不稳定的IT资源上。</li>
</ul>
</li>
</ul>
</li>
<li>资源预留架构
<ul>
<li><strong>资源受限</strong>(resource constraint)：由于IT资源使用共享，受限于其可用的容量等级，并发访问可能导致运行时的异常情况，称为资源受限。
<ul>
<li><strong>当两个或更多用户被分配到共享同一IT资源</strong>，而该IT资源没有足够的容量来容纳这些云用户的处理要求时，就会发生资源受限情况。</li>
<li>资源受限发生时，一个或更多云用户会遇到<strong>性能下降或拒绝服务</strong>，云服务本身也会出现性能下降，并导致所有的云用户被拒绝服务。</li>
<li>一个资源池可以临时从其他资源池<strong>借用IT资源</strong>，如果借用方拖延了使用时间而没有归还借用的IT资源时，会引起并发冲突，也会引起资源受限。</li>
</ul>
</li>
<li><strong>资源预留架构</strong>(resource reservation architecture)：专门为给定用户保留下述某种资源的系统，从而避免资源受限和资源借用情况：
<ul>
<li>单个IT资源</li>
<li>一个IT资源的一部分</li>
<li>多个IT资源</li>
</ul>
</li>
<li>相关机制
<ul>
<li>审计监控器(audit monitor)：用来检查资源预留系统是否遵守了云用户的审计、隐私和其它法规的要求。</li>
<li>云使用监控器(cloud usage monitor)：监视触发分配预留IT资源的阈值。</li>
<li>虚拟机监控器(hypervisor)：可以向不同的云用户提供预留，保证正确的给他们分配了保证过的IT资源。</li>
<li>逻辑网络边界(logical network perimeter)：保证预留的IT资源仅对某些云用户可用。</li>
<li>资源复制(resource replication)：需要持续的告知这个组件每个云用户的IT资源消耗的界限，以便能方便的复制和提供新的IT资源实例。</li>
</ul>
</li>
</ul>
</li>
<li>动态故障检测和恢复架构
<ul>
<li>手动管理和解决IT资源故障通常效率很低且不切实际。</li>
<li><strong>动态故障检测和恢复架构</strong>(dynamic failure detection and recovery architecture)：建立了一个弹性的<strong>看门狗系统</strong>，以监控预先定义的故障场景，并对之作出响应。
<ul>
<li>对于不能解决的故障情况，该系统会发出通知，并作升级处理。</li>
<li>这个系统依赖于一个特殊的云使用监控器，称为<strong>智能看门狗监控器</strong>，主动地追踪IT资源，对预先定义的事件采取预先定义的措施。</li>
</ul>
</li>
<li>弹性看门狗系统执行以下<strong>五个核心功能</strong>：
<ul>
<li>监视</li>
<li>选定事件</li>
<li>对事件做出反应</li>
<li>报告</li>
<li>升级处理，常用措施：
<ul>
<li>运行一个批处理文件</li>
<li>发送一个控制台消息</li>
<li>发送一条短信消息</li>
<li>发送一封电子邮件消息</li>
<li>发送一个SNMP陷阱</li>
<li>记录一个通知单</li>
</ul>
</li>
</ul>
</li>
<li>相关机制
<ul>
<li>审计监控器(audit monitor)：追踪数据的恢复是否遵守了法律或策略的要求。</li>
<li>故障转移系统(failover system)：通常在最初尝试恢复失效的IT资源时，会使用故障转移系统机制。</li>
<li>SLA管理和SLA监控器(SLA management system and SLA monitor)：由于采用这个架构能实现的功能和SLA保证是密切相关的，所以这个系统通常依赖于SLA管理和SLA监控器机制管理并处理信息。</li>
</ul>
</li>
</ul>
</li>
<li>裸机供给架构
<ul>
<li><strong>裸机服务器</strong>(bare-metal server)：指没有预装OS或其它任何软件的物理服务器。
<ul>
<li>现代大多数物理服务器在其ROM中都提供远程安装管理软件支持。</li>
<li>有些厂商需要扩展卡支持这个功能，也有些厂商把这个组件集成到芯片组里。</li>
<li>基于Web或专用用户接口连接和管理物理服务器</li>
</ul>
</li>
<li>远程管理软件虽然可以连接到物理服务器控制台，并部署OS，但有两个常见问题
<ul>
<li>手动部署多台服务器容易出现人为的疏漏和配置错误。</li>
<li>远程管理软件可能是时间密级型的，需要大量的运行时IT资源处理。</li>
</ul>
</li>
<li><strong>裸机供给架构</strong>(bare-metal provisioning architecture)：提供一个自动部署的功能，允许云用户链接到部署软件，同时提供多个服务器或操作系统，这样裸机就变成了一个安装有管理代理的原始客户端。</li>
<li>相关机制
<ul>
<li>云存储设备(cloud storage device)：存储OS模板和安装文件，以及供给系统的部署代理和部署包。</li>
<li>虚拟机监控器(hypervisor)：可能会要求作为OS供给的一部分，在物理服务器上部署虚拟机监控器。</li>
<li>逻辑网络边界(logical network perimeter)：确保物理裸机服务器只能被授权的云用户访问。</li>
<li>资源复制(resource replication)：复制IT资源。</li>
<li>SLA管理系统(SLA management system)：保证物理裸机服务器的可用性与预先定义好的SLA条款一致。</li>
</ul>
</li>
</ul>
</li>
<li>快速供给架构
<ul>
<li><strong>快速供给架构</strong>(rapid provisioning architecture)：建立的系统将大范围的IT资源供给进行了自动化，这些IT资源可以是单个的，也可以是联合起来的。</li>
</ul>
</li>
<li>存储负载管理架构
<ul>
<li>云存储设备使用中可能出现的问题：过度使用——增加工作负载；使用过低——损失潜能</li>
<li><strong>LUN迁移</strong>(Logical Unit Number, 通常说的LUN也指在SAN存储上创建的逻辑磁盘)：是一种特殊的存储程序，用来把LUN从一个存储设备移动到另一个上而无需中断，同时还对云用户保持透明。</li>
<li><strong>存储负载管理架构</strong>(storage workload management architecture)：使得LUN可以均匀地分布在可用地云存储设备上，而<strong>存储容量系统</strong>则用来确保运行时工作负载均匀地分布在LUN上。</li>
<li>相关机制
<ul>
<li>审计监控器(audit monitor)：检查对法规、隐私和安全要求的遵守情况，因为这个架构建立起来的系统可以在物理上重新定位数据。</li>
<li>自动伸缩监听器(automated scaling listener)：用来监视和响应工作负载的波动</li>
<li>云使用监控器(cloud usage monitor)：追踪LUN的移动，并收集工作负载分布的统计数据。</li>
<li>负载均衡器(load balancer)：用来在可用的云存储设备之间水平的对工作负载作均衡。</li>
<li>逻辑网络边界(logical network perimeter)：确保数据重定位后，也能够对未授权方保持不可访问。</li>
</ul>
</li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://uranuso.github.io">Rayhan Li</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://uranuso.github.io/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/">https://uranuso.github.io/2024/07/16/%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://uranuso.github.io" target="_blank">Rayhan Li's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" title="计算机视觉-课程复习"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">计算机视觉-课程复习</div></div></a></div><div class="next-post pull-right"><a href="/2024/07/15/%E4%BF%A1%E6%81%AF%E6%A3%80%E7%B4%A2%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" title="信息检索与数据挖掘-课程复习"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">信息检索与数据挖掘-课程复习</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/web_image/favi.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Rayhan Li</div><div class="author-info__description">I am inevitable.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/uranuso"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80-%E4%BA%91%E8%AE%A1%E7%AE%97%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">一、云计算概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">二、基本概念与模型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89-%E4%BA%91%E4%BD%BF%E8%83%BD%E6%8A%80%E6%9C%AF"><span class="toc-number">3.</span> <span class="toc-text">三、云使能技术</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B-%E5%9F%BA%E6%9C%AC%E4%BA%91%E5%AE%89%E5%85%A8"><span class="toc-number">4.</span> <span class="toc-text">四、基本云安全</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94-%E4%BA%91%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E6%9C%BA%E5%88%B6"><span class="toc-number">5.</span> <span class="toc-text">五、云基础设施机制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD-%E8%99%9A%E6%8B%9F%E5%8C%96-%E9%87%8D%E7%82%B9"><span class="toc-number">6.</span> <span class="toc-text">六、虚拟化 重点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83-%E8%99%9A%E6%8B%9F%E5%8C%96-kvm-%E9%87%8D%E7%82%B9"><span class="toc-number">7.</span> <span class="toc-text">七、虚拟化-KVM 重点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB-%E8%99%9A%E6%8B%9F%E5%8C%96-docker-%E9%87%8D%E7%82%B9"><span class="toc-number">8.</span> <span class="toc-text">八、虚拟化–Docker 重点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#docker"><span class="toc-number">8.1.</span> <span class="toc-text">Docker</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D-%E4%BA%91%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6"><span class="toc-number">9.</span> <span class="toc-text">九、云安全机制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%AD%A6"><span class="toc-number">9.1.</span> <span class="toc-text">密码学</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81-%E7%89%B9%E6%AE%8A%E4%BA%91%E6%9C%BA%E5%88%B6-%E4%BA%86%E8%A7%A3"><span class="toc-number">10.</span> <span class="toc-text">十、特殊云机制 了解</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%80-%E5%9F%BA%E6%9C%AC%E4%BA%91%E6%9E%B6%E6%9E%84"><span class="toc-number">11.</span> <span class="toc-text">十一、基本云架构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C-%E9%AB%98%E7%BA%A7%E4%BA%91%E6%9E%B6%E6%9E%84-%E4%BA%86%E8%A7%A3"><span class="toc-number">12.</span> <span class="toc-text">十二、高级云架构 了解</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('/web_image/background.png')"><div id="footer-wrap"><div class="copyright">&copy;2024 By Rayhan Li</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>